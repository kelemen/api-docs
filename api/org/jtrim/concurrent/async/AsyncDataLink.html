<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="hu">
<head>
<!-- Generated by javadoc (version 1.7.0_13) on Sun Mar 03 20:16:10 CET 2013 -->
<title>AsyncDataLink (JTrim 1.4.0 - All modules)</title>
<meta name="date" content="2013-03-03">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="AsyncDataLink (JTrim 1.4.0 - All modules)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/jtrim/concurrent/async/AsyncDataConverter.html" title="class in org.jtrim.concurrent.async"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/jtrim/concurrent/async/AsyncDataListener.html" title="interface in org.jtrim.concurrent.async"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/jtrim/concurrent/async/AsyncDataLink.html" target="_top">Frames</a></li>
<li><a href="AsyncDataLink.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.jtrim.concurrent.async</div>
<h2 title="Interface AsyncDataLink" class="title">Interface AsyncDataLink&lt;DataType&gt;</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl><dt><span class="strong">Type Parameters:</span></dt><dd><code>DataType</code> - the type of the data to be accessed. This type is strongly
   recommended to be immutable or effectively immutable.</dd></dl>
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../org/jtrim/concurrent/async/io/AsyncChannelLink.html" title="class in org.jtrim.concurrent.async.io">AsyncChannelLink</a>, <a href="../../../../org/jtrim/image/transform/ImageTransformerLink.html" title="class in org.jtrim.image.transform">ImageTransformerLink</a>, <a href="../../../../org/jtrim/image/async/SimpleUriImageLink.html" title="class in org.jtrim.image.async">SimpleUriImageLink</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="strong">AsyncDataLink&lt;DataType&gt;</span></pre>
<div class="block">Defines a link to asynchronously access a specific data.
 <P>
 Instances of <code>AsyncDataLink</code> usually only need to store the input
 needed to find the actual data. For example: A <code>AsyncDataLink</code> intended
 to load a particular file, needs to store the path to the file only. And
 later load the content of the file when requested to do so.
 <P>
 The link to the data is intended to be permanent, so users should not hope
 that the underlying data will change. Note however, that sometimes it is
 impossible to the implementation to guarantee that it will provide the same
 data always when requested.
 <P>
 To combine <code>AsyncDataLink</code> instances see the useful utility methods in
 <a href="../../../../org/jtrim/concurrent/async/AsyncLinks.html" title="class in org.jtrim.concurrent.async"><code>AsyncLinks</code></a>.

 <h3>Providing the data</h3>
 When the user of this interface needs the data referenced by the
 <code>AsyncDataLink</code>, it needs to invoke the
 <a href="../../../../org/jtrim/concurrent/async/AsyncDataLink.html#getData(org.jtrim.cancel.CancellationToken, org.jtrim.concurrent.async.AsyncDataListener)"><code>getData</code></a>
 method and provide a listener to which the data will be forwarded when ready.
 The data need to forwarded by calling the
 <a href="../../../../org/jtrim/concurrent/async/AsyncDataListener.html#onDataArrive(DataType)"><code>onDataArrive</code></a> method of the
 listener passing the data as an argument.
 <P>
 The data is intended to be provided iteratively with each progress providing
 a more accurate or simply a super set of the previously provided data.
 Providing possibly incomplete data however is optional and implementations
 may only provide the final complete data. However providing the final data
 is mandatory (unless when providing the data is canceled). The intention of
 this definition is that when a new data is forwarded to the listener,
 previously provided datas can be safely ignored and be discarded.
 <P>
 It is important to note that the datas must be provided one after another and
 must never be forwarded concurrently to the same listener. This is because
 listeners are not required to be thread-safe.
 <P>
 As an example when a <code>AsyncDataLink</code> implementation loads an image
 based on a file path it can iteratively forward an incomplete image until
 all the pixels of the image was loaded. Once the image has been loaded: the
 final complete image must be forwarded to the listener.
 <P>
 The data retrieval process can be canceled when the requested data is no
 longer needed. Cancellation requests are detected through the passed
 <a href="../../../../org/jtrim/cancel/CancellationToken.html" title="interface in org.jtrim.cancel"><code>CancellationToken</code></a>. Note that implementation may ignore cancellation
 attempts but good implementations should at least make a best attempt to
 stop retrieving the requested data.

 <h4>Finish providing data</h4>
 Once the data has been completely loaded (or failed to be loaded due to some
 unexpected error), the listener must be notified by calling the
 <a href="../../../../org/jtrim/concurrent/async/AsyncDataListener.html#onDoneReceive(org.jtrim.concurrent.async.AsyncReport)"><code>onDoneReceive</code></a> method
 of the listener. The report can contain an exception as well to describe the
 failure which may have occurred. Note that once the client requested the
 data to be loaded, it is mandatory for every <code>AsyncDataListener</code>
 implementation to sooner or later call the <code>onDoneReceive</code> method.

 <h4>Controlling the data currently being loaded</h4>
 The clients can control how the data is to be loaded by the returned
 <a href="../../../../org/jtrim/concurrent/async/AsyncDataController.html" title="interface in org.jtrim.concurrent.async"><code>AsyncDataController</code></a> object and also query the current progress of
 the loading process. Controlling the loading process is done by sending an
 object through the <a href="../../../../org/jtrim/concurrent/async/AsyncDataController.html#controlData(java.lang.Object)"><code>controlData</code></a>
 method of the returned <code>AsyncDataController</code>. How and what can be
 controlled is completely implementation dependant but it most not affect the
 final data to be forwarded to the listener. It may affect the time needed to
 provide the final data but not the actual result. Note that due to some
 sources being unreliable, this may not be achievable but a best effort must
 be done to adhere to this contract. Controlling the data is merely intended
 to be used to affect intermediate datas.
 <P>
 The second generic feature of the <code>AsyncDataController</code> is that it can
 be used to retrieve the current status of the loading process. The most
 important property of this status is the estimated progress of loading
 process. Implementations however are recommended to provide other valuable
 information about the progress.

 <h3>String representation of data links and queries</h3>
 Since <code>AsyncDataLink</code> and <code>AsyncDataQuery</code> instances can be
 attached in a convoluted way, it can be very helpful if the
 <code>toString()</code> method returns a human readable string
 describing what the <code>AsyncDataLink</code> will do. The string representation
 is not intended to be parsed or even be parsable it is only intended to
 contain helpful information when debugging an application. To be consistent
 with the string representation provided by implementations in <EM>JTrim</EM>,
 the following guidelines should be used:
 <P>
 <ul>
  <li>
   The representation should be multi-lined each line describing a single
   action.
  </li>
  <li>
   The representation should be readable from top to bottom describing the
   consecutive actions.
  </li>
  <li>
   When an <code>AsyncDataLink</code> or <code>AsyncDataQuery</code> wraps another
   query, the string representation of the subquery or sublink should be
   indented. The indentations should be done using the <code>appendIndented</code>
   methods of the <a href="../../../../org/jtrim/concurrent/async/AsyncFormatHelper.html" title="class in org.jtrim.concurrent.async"><code>AsyncFormatHelper</code></a> class.
  </li>
  <li>
   When working with arrays or collections it is recommended to add the
   content as an indented multi-line string with each element in a separate
   line. The <code>AsyncFormatHelper</code> contains methods to format them so.
  </li>
  <li>
   The efficiency is not an issue because the string representation is
   intended to be used for debugging only.
  </li>
  <li>
   The methods in <a href="../../../../org/jtrim/concurrent/async/AsyncFormatHelper.html" title="class in org.jtrim.concurrent.async"><code>AsyncFormatHelper</code></a> should be used whenever possible
   for better consistency.
  </li>
 </ul>

 <h3>Thread safety</h3>
 Implementations of this interface are required to be safe to use by multiple
 threads concurrently.

 <h4>Synchronization transparency</h4>
 Implementations of this interface are not required to be
 <I>synchronization transparent</I>. Note however that the
 <a href="../../../../org/jtrim/concurrent/async/AsyncDataLink.html#getData(org.jtrim.cancel.CancellationToken, org.jtrim.concurrent.async.AsyncDataListener)"><code>getData</code></a> method must return reasonably
 fast, must never do expensive tasks synchronously and especially not depend
 on some external resources.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../org/jtrim/concurrent/async/AsyncDataController.html" title="interface in org.jtrim.concurrent.async"><code>AsyncDataController</code></a>, 
<a href="../../../../org/jtrim/concurrent/async/AsyncDataListener.html" title="interface in org.jtrim.concurrent.async"><code>AsyncDataListener</code></a>, 
<a href="../../../../org/jtrim/concurrent/async/AsyncDataQuery.html" title="interface in org.jtrim.concurrent.async"><code>AsyncDataQuery</code></a>, 
<a href="../../../../org/jtrim/concurrent/async/AsyncLinks.html" title="class in org.jtrim.concurrent.async"><code>AsyncLinks</code></a>, 
<a href="../../../../org/jtrim/concurrent/async/AsyncFormatHelper.html" title="class in org.jtrim.concurrent.async"><code>AsyncFormatHelper</code></a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../org/jtrim/concurrent/async/AsyncDataController.html" title="interface in org.jtrim.concurrent.async">AsyncDataController</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/jtrim/concurrent/async/AsyncDataLink.html#getData(org.jtrim.cancel.CancellationToken, org.jtrim.concurrent.async.AsyncDataListener)">getData</a></strong>(<a href="../../../../org/jtrim/cancel/CancellationToken.html" title="interface in org.jtrim.cancel">CancellationToken</a>&nbsp;cancelToken,
       <a href="../../../../org/jtrim/concurrent/async/AsyncDataListener.html" title="interface in org.jtrim.concurrent.async">AsyncDataListener</a>&lt;? super <a href="../../../../org/jtrim/concurrent/async/AsyncDataLink.html" title="type parameter in AsyncDataLink">DataType</a>&gt;&nbsp;dataListener)</code>
<div class="block">Starts retrieving the data which is linked to this <code>AsyncDataLink</code>.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getData(org.jtrim.cancel.CancellationToken, org.jtrim.concurrent.async.AsyncDataListener)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getData</h4>
<pre><a href="../../../../org/jtrim/concurrent/async/AsyncDataController.html" title="interface in org.jtrim.concurrent.async">AsyncDataController</a>&nbsp;getData(<a href="../../../../org/jtrim/cancel/CancellationToken.html" title="interface in org.jtrim.cancel">CancellationToken</a>&nbsp;cancelToken,
                          <a href="../../../../org/jtrim/concurrent/async/AsyncDataListener.html" title="interface in org.jtrim.concurrent.async">AsyncDataListener</a>&lt;? super <a href="../../../../org/jtrim/concurrent/async/AsyncDataLink.html" title="type parameter in AsyncDataLink">DataType</a>&gt;&nbsp;dataListener)</pre>
<div class="block">Starts retrieving the data which is linked to this <code>AsyncDataLink</code>.
 The data will be forwarded to the specified listener usually
 asynchronously on a separate thread. Note however that this method may
 also forward the data synchronously on the current thread to the listener
 if it is readily available and does not need some expensive operation to
 load.
 <P>
 Once this method has been called successfully, the
 <a href="../../../../org/jtrim/concurrent/async/AsyncDataListener.html#onDoneReceive(org.jtrim.concurrent.async.AsyncReport)"><code>onDoneReceive</code></a> method
 of the listener must be called eventually regardless what happens.
 Failing to call this method is a serious failure of the
 <code>AsyncDataLink</code> implementation.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>cancelToken</code> - the <code>CancellationToken</code> signaling if the data
   retrieval process need to be canceled. Implementations may ignore
   cancellation requests but they should cancel the data retrieval and
   call the <code>onDoneReceive</code> method of the listener, signaling that
   the data retrieval cannot be completed due to cancellation. This
   argument cannot be <code>null</code>.</dd><dd><code>dataListener</code> - the listener to which the data is to be forwarded.
   This argument cannot be <code>null</code>.</dd>
<dt><span class="strong">Returns:</span></dt><dd>the <code>AsyncDataController</code> which can be used to
   control the way it is being loaded and request the progress of the
   data retrieving process. This method must never return <code>null</code>.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.NullPointerException</code> - thrown if the specified listener or the
   <code>CancellationToken</code> is <code>null</code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/jtrim/concurrent/async/AsyncDataConverter.html" title="class in org.jtrim.concurrent.async"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/jtrim/concurrent/async/AsyncDataListener.html" title="interface in org.jtrim.concurrent.async"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/jtrim/concurrent/async/AsyncDataLink.html" target="_top">Frames</a></li>
<li><a href="AsyncDataLink.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
