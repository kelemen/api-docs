<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="hu">
<head>
<!-- Generated by javadoc (version 1.7.0_13) on Wed Oct 16 20:52:50 CEST 2013 -->
<title>ManualTaskExecutor (jtrim-core 1.7.1 API)</title>
<meta name="date" content="2013-10-16">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ManualTaskExecutor (jtrim-core 1.7.1 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/jtrim/concurrent/GenericUpdateTaskExecutor.html" title="class in org.jtrim.concurrent"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/jtrim/concurrent/MonitorableTaskExecutor.html" title="interface in org.jtrim.concurrent"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/jtrim/concurrent/ManualTaskExecutor.html" target="_top">Frames</a></li>
<li><a href="ManualTaskExecutor.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.jtrim.concurrent</div>
<h2 title="Class ManualTaskExecutor" class="title">Class ManualTaskExecutor</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.jtrim.concurrent.ManualTaskExecutor</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../org/jtrim/concurrent/TaskExecutor.html" title="interface in org.jtrim.concurrent">TaskExecutor</a></dd>
</dl>
<hr>
<br>
<pre>public final class <span class="strong">ManualTaskExecutor</span>
extends java.lang.Object
implements <a href="../../../org/jtrim/concurrent/TaskExecutor.html" title="interface in org.jtrim.concurrent">TaskExecutor</a></pre>
<div class="block">Defines a <code>TaskExecutor</code> where client code can determine where and when
 submitted tasks are executed. This task is generally useful for testing.
 <P>
 You can submit tasks the usual way as defined by the <code>TaskExecutor</code>
 interface and if you actually want to execute them, you have to call the
 <a href="../../../org/jtrim/concurrent/ManualTaskExecutor.html#executeCurrentlySubmitted()"><code>executeCurrentlySubmitted</code></a> or the
 <a href="../../../org/jtrim/concurrent/ManualTaskExecutor.html#tryExecuteOne()"><code>tryExecuteOne</code></a> methods. This executor has a FIFO
 queue and the previously mentioned methods will execute them in the order
 they were submitted, unless you call them concurrently (in this case no
 ordering guarantee can be made).
 <P>
 <B>Warning</B>: If you fail to execute submitted tasks, then cleanup task
 will not be executed, so it is the responsibility of the client code to
 execute them.

 <h3>Thread safety</h3>
 The methods of this class are safe to use by multiple threads concurrently.

 <h4>Synchronization transparency</h4>
 The methods of this class are not <I>synchronization transparent</I>.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../org/jtrim/concurrent/ManualTaskExecutor.html#ManualTaskExecutor(boolean)">ManualTaskExecutor</a></strong>(boolean&nbsp;eagerCancel)</code>
<div class="block">Creates a new <code>ManualTaskExecutor</code> with an empty task queue.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/jtrim/concurrent/ManualTaskExecutor.html#execute(org.jtrim.cancel.CancellationToken, org.jtrim.concurrent.CancelableTask, org.jtrim.concurrent.CleanupTask)">execute</a></strong>(<a href="../../../org/jtrim/cancel/CancellationToken.html" title="interface in org.jtrim.cancel">CancellationToken</a>&nbsp;cancelToken,
       <a href="../../../org/jtrim/concurrent/CancelableTask.html" title="interface in org.jtrim.concurrent">CancelableTask</a>&nbsp;task,
       <a href="../../../org/jtrim/concurrent/CleanupTask.html" title="interface in org.jtrim.concurrent">CleanupTask</a>&nbsp;cleanupTask)</code>
<div class="block">Executes the task at some time in the future and when the task terminates
 due to any reason, it executes the specified cleanup task.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../org/jtrim/concurrent/ManualTaskExecutor.html#executeCurrentlySubmitted()">executeCurrentlySubmitted</a></strong>()</code>
<div class="block">Executes every currently submitted task found in the task queue.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../org/jtrim/concurrent/ManualTaskExecutor.html#tryExecuteOne()">tryExecuteOne</a></strong>()</code>
<div class="block">Removes a single task from the task queue of this executor and executes
 it (along with its cleanup) unless the queue is empty.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ManualTaskExecutor(boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ManualTaskExecutor</h4>
<pre>public&nbsp;ManualTaskExecutor(boolean&nbsp;eagerCancel)</pre>
<div class="block">Creates a new <code>ManualTaskExecutor</code> with an empty task queue.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>eagerCancel</code> - if this argument is <code>true</code> and a task is
   canceled, then the task will be eagerly unreferenced (allowing it to be
   garbage collected) and will not be attempted to be executed. In case
   this argument is <code>false</code>, submitted tasks will always be executed
   even if canceled (though they can check their cancellation token and
   cancel themselves).</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="tryExecuteOne()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tryExecuteOne</h4>
<pre>public&nbsp;boolean&nbsp;tryExecuteOne()</pre>
<div class="block">Removes a single task from the task queue of this executor and executes
 it (along with its cleanup) unless the queue is empty.
 <P>
 Note: Exceptions thrown by the submitted task will not be rethrown but
 passed to the cleanup task.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd><code>true</code> if there was a task to be executed in the queue,
   <code>false</code> if this method did nothing because there was no submitted
   task</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../org/jtrim/concurrent/TaskExecutionException.html" title="class in org.jtrim.concurrent">TaskExecutionException</a></code> - thrown if the cleanup task throws
   an exception. The exception thrown by the cleanup task is the cause of
   this <code>TaskExecutionException</code></dd></dl>
</li>
</ul>
<a name="executeCurrentlySubmitted()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>executeCurrentlySubmitted</h4>
<pre>public&nbsp;int&nbsp;executeCurrentlySubmitted()</pre>
<div class="block">Executes every currently submitted task found in the task queue. The
 tasks are executed in FIFO order. This method will collect tasks from the
 queue once, if a task is submitted after, it will <I>not</I> be executed.
 In particular, new tasks submitted by currently executed tasks are
 guaranteed <I>not</I> to be executed by this method.
 <P>
 <pre>
 final ManualTaskExecutor executor = new ManualTaskExecutor(false);
 executor.execute(Cancellation.UNCANCELABLE_TOKEN, new CancelableTask() {
   System.out.println("OUTER-TASK");
   executor.execute(Cancellation.UNCANCELABLE_TOKEN, new CancelableTask() {
     System.out.println("INNER-TASK");
   }, null);
 }, null);
 executor.executeCurrentlySubmitted();
 </pre>
 The above code will only print "OUTER-TASK" and the
 <code>executeCurrentlySubmitted</code> method will return 1.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the number of tasks executed by this method. This includes
   canceled tasks as well of which only the cleanup is executed.</dd></dl>
</li>
</ul>
<a name="execute(org.jtrim.cancel.CancellationToken, org.jtrim.concurrent.CancelableTask, org.jtrim.concurrent.CleanupTask)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>execute</h4>
<pre>public&nbsp;void&nbsp;execute(<a href="../../../org/jtrim/cancel/CancellationToken.html" title="interface in org.jtrim.cancel">CancellationToken</a>&nbsp;cancelToken,
           <a href="../../../org/jtrim/concurrent/CancelableTask.html" title="interface in org.jtrim.concurrent">CancelableTask</a>&nbsp;task,
           <a href="../../../org/jtrim/concurrent/CleanupTask.html" title="interface in org.jtrim.concurrent">CleanupTask</a>&nbsp;cleanupTask)</pre>
<div class="block">Executes the task at some time in the future and when the task terminates
 due to any reason, it executes the specified cleanup task. When and on
 what thread, the task is to be executed is completely implementation
 dependent. Implementations may choose to execute tasks later on a
 separate thread or synchronously in the calling thread at the discretion
 of the implementation.
 <P>
 <B>Implementation note</B>:
 Submits the specified task for execution. The submitted task and its
 cleanup can be executed by subsequent calls to
 <code>executeCurrentlySubmitted</code> or <code>tryExecuteOne</code> methods.
 <P>
 This executor implementation ensures that the same
 <code>CancellationToken</code> is passed to the task as passed in the
 argument of the <code>execute</code> method.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../org/jtrim/concurrent/TaskExecutor.html#execute(org.jtrim.cancel.CancellationToken, org.jtrim.concurrent.CancelableTask, org.jtrim.concurrent.CleanupTask)">execute</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/jtrim/concurrent/TaskExecutor.html" title="interface in org.jtrim.concurrent">TaskExecutor</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>cancelToken</code> - the <code>CancellationToken</code> which is to be checked
   if the submitted task is to be canceled. If this
   <code>CancellationToken</code> signals a cancellation request, this
   <code>TaskExecutor</code> may choose to not even attempt to execute the
   submitted task. In any case, the <code>cleanupTask</code> will be executed.
   This argument may not be <code>null</code>. When the task cannot be
   canceled, use the static
   <a href="../../../org/jtrim/cancel/Cancellation.html#UNCANCELABLE_TOKEN"><code>Cancellation.UNCANCELABLE_TOKEN</code></a> for this
   argument (even in this case, the <code>TaskExecutor</code> may be able to
   cancel the task, if it was not submitted for execution).</dd><dd><code>task</code> - the task to be executed by this <code>TaskExecutor</code>. This
   argument cannot be <code>null</code>.</dd><dd><code>cleanupTask</code> - the task to be executed after the submitted task has
   terminated or <code>null</code> if no task is needed to be executed. This
   cleanup task is executed always and only after the submitted task
   terminates or will never be executed (due to cancellation). This
   cleanup task is to be executed in the same context as the submitted
   task (or if the associated task has been canceled: in the same context
   where the associated task might have been executed).</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../org/jtrim/cancel/Cancellation.html#createCancellationSource()"><code>Cancellation.createCancellationSource()</code></a>, 
<a href="../../../org/jtrim/cancel/Cancellation.html#UNCANCELABLE_TOKEN"><code>Cancellation.UNCANCELABLE_TOKEN</code></a></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/jtrim/concurrent/GenericUpdateTaskExecutor.html" title="class in org.jtrim.concurrent"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/jtrim/concurrent/MonitorableTaskExecutor.html" title="interface in org.jtrim.concurrent"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/jtrim/concurrent/ManualTaskExecutor.html" target="_top">Frames</a></li>
<li><a href="ManualTaskExecutor.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
