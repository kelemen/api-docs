<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="hu">
<head>
<!-- Generated by javadoc (version 1.7.0_13) on Thu Mar 13 00:55:18 CET 2014 -->
<title>MemoryHeavyObject (jtrim-core 1.7.3 API)</title>
<meta name="date" content="2014-03-13">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="MemoryHeavyObject (jtrim-core 1.7.3 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/jtrim/cache/JavaRefObjectCache.html" title="enum in org.jtrim.cache"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/jtrim/cache/MemorySensitiveCache.html" title="class in org.jtrim.cache"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/jtrim/cache/MemoryHeavyObject.html" target="_top">Frames</a></li>
<li><a href="MemoryHeavyObject.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.jtrim.cache</div>
<h2 title="Interface MemoryHeavyObject" class="title">Interface MemoryHeavyObject</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public interface <span class="strong">MemoryHeavyObject</span></pre>
<div class="block">An interface for objects retaining considerable amount of memory.
 This interface is used by <a href="../../../org/jtrim/cache/MemorySensitiveCache.html" title="class in org.jtrim.cache"><code>MemorySensitiveCache</code></a>. This cache
 implementation will determine the size of objects using the
 <a href="../../../org/jtrim/cache/MemoryHeavyObject.html#getApproxMemorySize()"><code>getApproxMemorySize()</code></a> method of this
 interface. Refer to the documentation of <code>MemorySensitiveCache</code> for
 further details.
 <P>
 The size defined by this interface is not required to be exact (since
 determining the exact memory retention of an object is not possible), only
 an approximation. Note that some objects may share their internal fields
 for performance reasons (e.g.: a large array), despite this such fields
 should be included in the size calculations even though other references to
 these fields may exists.
 <P>
 For heavy objects usually most memory retentions come from large arrays or
 collections. The memory retention of a collection is not easy to measure so
 in this case a best effort should be made to faithfully reflect the memory
 retention on a typical JVM implementation. Somewhat easier to calculate the
 memory retention of large primitive arrays. The size of such arrays should be
 calculated as follows: the length of the array multiplied by the size of
 the primitive type. For the size of the primitive types the values from
 the following table should be used:
 <table border="1">
  <tr>
   <th>Type</th>
   <th>Size of type</th>
  </tr>
  <tr>
   <td>boolean</td>
   <td>1</td>
  </tr>
  <tr>
   <td>byte</td>
   <td>1</td>
  </tr>
  <tr>
   <td>char</td>
   <td>2</td>
  </tr>
  <tr>
   <td>double</td>
   <td>8</td>
  </tr>
  <tr>
   <td>float</td>
   <td>4</td>
  </tr>
  <tr>
   <td>int</td>
   <td>4</td>
  </tr>
  <tr>
   <td>short</td>
   <td>2</td>
  </tr>
 </table>
 <P>
 Note that implementations of this object are recommended to be immutable or
 effectively immutable.

 <h3>Thread safety</h3>
 Implementations of this interface are required to be completely thread-safe,
 so the <code>getApproxMemorySize()</code> method can be called from any thread.
 <h4>Synchronization transparency</h4>
 The <code>getApproxMemorySize()</code> method (the only method of this interface)
 of this interface are required to be <I>synchronization transparent</I>,
 so they can be called in any context (e.g.: while holding a lock).</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../org/jtrim/cache/MemorySensitiveCache.html" title="class in org.jtrim.cache"><code>MemorySensitiveCache</code></a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../org/jtrim/cache/MemoryHeavyObject.html#getApproxMemorySize()">getApproxMemorySize</a></strong>()</code>
<div class="block">Returns the approximate size of memory in bytes retained by this
 objects.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getApproxMemorySize()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getApproxMemorySize</h4>
<pre>long&nbsp;getApproxMemorySize()</pre>
<div class="block">Returns the approximate size of memory in bytes retained by this
 objects. This value is only approximate in every respect: Making this
 object unreachable does not guarantee any more available memory at all.
 <P>
 The return value of this object can change in case of mutable objects,
 note however that <code>MemoryHeavyObject</code>s are recommended to be
 immutable or effectively immutable.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the approximate size of this object in bytes. This method
   must never return a negative value (zero is permitted).</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/jtrim/cache/JavaRefObjectCache.html" title="enum in org.jtrim.cache"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/jtrim/cache/MemorySensitiveCache.html" title="class in org.jtrim.cache"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/jtrim/cache/MemoryHeavyObject.html" target="_top">Frames</a></li>
<li><a href="MemoryHeavyObject.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
