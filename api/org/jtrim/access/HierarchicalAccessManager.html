<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="hu">
<head>
<!-- Generated by javadoc (version 1.7.0_13) on Sun Jun 23 03:27:54 CEST 2013 -->
<title>HierarchicalAccessManager (jtrim-gui 1.6.1 API)</title>
<meta name="date" content="2013-06-23">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="HierarchicalAccessManager (jtrim-gui 1.6.1 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/jtrim/access/DelegatedAccessToken.html" title="class in org.jtrim.access"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/jtrim/access/HierarchicalRight.html" title="class in org.jtrim.access"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/jtrim/access/HierarchicalAccessManager.html" target="_top">Frames</a></li>
<li><a href="HierarchicalAccessManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.jtrim.access</div>
<h2 title="Class HierarchicalAccessManager" class="title">Class HierarchicalAccessManager&lt;IDType&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.jtrim.access.HierarchicalAccessManager&lt;IDType&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl><dt><span class="strong">Type Parameters:</span></dt><dd><code>IDType</code> - the type of the request ID (see
   <a href="../../../org/jtrim/access/AccessRequest.html#getRequestID()"><code>AccessRequest.getRequestID()</code></a>)</dd></dl>
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../org/jtrim/access/AccessManager.html" title="interface in org.jtrim.access">AccessManager</a>&lt;IDType,<a href="../../../org/jtrim/access/HierarchicalRight.html" title="class in org.jtrim.access">HierarchicalRight</a>&gt;</dd>
</dl>
<hr>
<br>
<pre>public final class <span class="strong">HierarchicalAccessManager&lt;IDType&gt;</span>
extends java.lang.Object
implements <a href="../../../org/jtrim/access/AccessManager.html" title="interface in org.jtrim.access">AccessManager</a>&lt;IDType,<a href="../../../org/jtrim/access/HierarchicalRight.html" title="class in org.jtrim.access">HierarchicalRight</a>&gt;</pre>
<div class="block">An implementation of <code>AccessManager</code> which can manage
 <a href="../../../org/jtrim/access/HierarchicalRight.html" title="class in org.jtrim.access"><code>hierarchical rights</code></a>.

 <h3>Rights</h3>
 This implementation uses hierarchical rights so requesting a right will
 need that subrights are also available for the requested use. The value
 <code>null</code> is not considered to be a valid hierarchical right.
 See <a href="../../../org/jtrim/access/HierarchicalRight.html" title="class in org.jtrim.access"><code>HierarchicalRight</code></a> for further details on hierarchical rights.

 <h3>Events</h3>
 This implementation can notify clients if an access token is acquired or
 released. These notification events are submitted to a user specified
 <code>TaskExecutor</code>, so clients can define
 where the events execute but cannot define on what thread these events
 are submitted to this <code>TaskExecutor</code>. They maybe scheduled on the
 thread used by the <code>TaskExecutor</code> of the
 <a href="../../../org/jtrim/access/AccessToken.html" title="interface in org.jtrim.access"><code>AccessTokens</code></a> or in the call stack of caller of a methods
 of this class. Although is not possible to determine which event is submitted
 on which thread, these events will be submitted in the order they occurred.

 <h3>Thread safety</h3>
 This class is thread-safe without any further synchronization. Note however
 that although thread-safe, this implementation  will not scale well with
 multiple processors.
 <h4>Synchronization transparency</h4>
 The methods of this class are not <I>synchronization transparent</I>
 because they may notify the specified
 <a href="../../../org/jtrim/access/AccessChangeListener.html" title="interface in org.jtrim.access"><code>AccessChangeListener</code></a>. In case
 scheduling the events of the changes in right states is
 <I>synchronization transparent</I> then the methods of this class are also
 <I>synchronization transparent</I>. Note that in most case you cannot
 assume this and can only rely on that they do not block indefinitely.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../org/jtrim/access/HierarchicalRight.html" title="class in org.jtrim.access"><code>HierarchicalRight</code></a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../org/jtrim/access/HierarchicalAccessManager.html#HierarchicalAccessManager(org.jtrim.concurrent.TaskExecutor)">HierarchicalAccessManager</a></strong>(org.jtrim.concurrent.TaskExecutor&nbsp;eventExecutor)</code>
<div class="block">Creates a new <code>HierarchicalAccessManager</code> executing events in the
 context of the specified executor.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>org.jtrim.event.ListenerRef</code></td>
<td class="colLast"><code><strong><a href="../../../org/jtrim/access/HierarchicalAccessManager.html#addAccessChangeListener(org.jtrim.access.AccessChangeListener)">addAccessChangeListener</a></strong>(<a href="../../../org/jtrim/access/AccessChangeListener.html" title="interface in org.jtrim.access">AccessChangeListener</a>&lt;<a href="../../../org/jtrim/access/HierarchicalAccessManager.html" title="type parameter in HierarchicalAccessManager">IDType</a>,<a href="../../../org/jtrim/access/HierarchicalRight.html" title="class in org.jtrim.access">HierarchicalRight</a>&gt;&nbsp;listener)</code>
<div class="block">Adds a new listener which is to be notified whenever a new access token
 is acquired or released.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.Collection&lt;<a href="../../../org/jtrim/access/AccessToken.html" title="interface in org.jtrim.access">AccessToken</a>&lt;<a href="../../../org/jtrim/access/HierarchicalAccessManager.html" title="type parameter in HierarchicalAccessManager">IDType</a>&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../org/jtrim/access/HierarchicalAccessManager.html#getBlockingTokens(java.util.Collection, java.util.Collection)">getBlockingTokens</a></strong>(java.util.Collection&lt;? extends <a href="../../../org/jtrim/access/HierarchicalRight.html" title="class in org.jtrim.access">HierarchicalRight</a>&gt;&nbsp;requestedReadRights,
                 java.util.Collection&lt;? extends <a href="../../../org/jtrim/access/HierarchicalRight.html" title="class in org.jtrim.access">HierarchicalRight</a>&gt;&nbsp;requestedWriteRights)</code>
<div class="block">Returns the <a href="../../../org/jtrim/access/AccessToken.html" title="interface in org.jtrim.access"><code>AccessTokens</code></a> which conflicts the
 given read and write right request.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/jtrim/access/HierarchicalAccessManager.html#getRights(java.util.Collection, java.util.Collection)">getRights</a></strong>(java.util.Collection&lt;<a href="../../../org/jtrim/access/HierarchicalRight.html" title="class in org.jtrim.access">HierarchicalRight</a>&gt;&nbsp;readRights,
         java.util.Collection&lt;<a href="../../../org/jtrim/access/HierarchicalRight.html" title="class in org.jtrim.access">HierarchicalRight</a>&gt;&nbsp;writeRights)</code>
<div class="block">Returns the rights that are currently in use: there are not terminated
 <a href="../../../org/jtrim/access/AccessToken.html" title="interface in org.jtrim.access"><code>AccessTokens</code></a> associated with these rights.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../org/jtrim/access/AccessResult.html" title="class in org.jtrim.access">AccessResult</a>&lt;<a href="../../../org/jtrim/access/HierarchicalAccessManager.html" title="type parameter in HierarchicalAccessManager">IDType</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../org/jtrim/access/HierarchicalAccessManager.html#getScheduledAccess(org.jtrim.access.AccessRequest)">getScheduledAccess</a></strong>(<a href="../../../org/jtrim/access/AccessRequest.html" title="class in org.jtrim.access">AccessRequest</a>&lt;? extends <a href="../../../org/jtrim/access/HierarchicalAccessManager.html" title="type parameter in HierarchicalAccessManager">IDType</a>,? extends <a href="../../../org/jtrim/access/HierarchicalRight.html" title="class in org.jtrim.access">HierarchicalRight</a>&gt;&nbsp;request)</code>
<div class="block">Returns an <a href="../../../org/jtrim/access/AccessToken.html" title="interface in org.jtrim.access"><code>AccessToken</code></a> which has the requested rights and will
 execute tasks after all conflicting <code>AccessToken</code>s have been
 released.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../org/jtrim/access/HierarchicalAccessManager.html#isAvailable(java.util.Collection, java.util.Collection)">isAvailable</a></strong>(java.util.Collection&lt;? extends <a href="../../../org/jtrim/access/HierarchicalRight.html" title="class in org.jtrim.access">HierarchicalRight</a>&gt;&nbsp;requestedReadRights,
           java.util.Collection&lt;? extends <a href="../../../org/jtrim/access/HierarchicalRight.html" title="class in org.jtrim.access">HierarchicalRight</a>&gt;&nbsp;requestedWriteRights)</code>
<div class="block">Checks if the given rights are currently available for an access request.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../org/jtrim/access/HierarchicalAccessManager.html#toString()">toString</a></strong>()</code>
<div class="block">Returns the string representation of this access manager in no
 particular format.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../org/jtrim/access/AccessResult.html" title="class in org.jtrim.access">AccessResult</a>&lt;<a href="../../../org/jtrim/access/HierarchicalAccessManager.html" title="type parameter in HierarchicalAccessManager">IDType</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../org/jtrim/access/HierarchicalAccessManager.html#tryGetAccess(org.jtrim.access.AccessRequest)">tryGetAccess</a></strong>(<a href="../../../org/jtrim/access/AccessRequest.html" title="class in org.jtrim.access">AccessRequest</a>&lt;? extends <a href="../../../org/jtrim/access/HierarchicalAccessManager.html" title="type parameter in HierarchicalAccessManager">IDType</a>,? extends <a href="../../../org/jtrim/access/HierarchicalRight.html" title="class in org.jtrim.access">HierarchicalRight</a>&gt;&nbsp;request)</code>
<div class="block">Tries to acquire the requested rights and returns immediately if it
 cannot be acquired without waiting and/or releasing
 <a href="../../../org/jtrim/access/AccessToken.html" title="interface in org.jtrim.access"><code>AccessTokens</code></a>.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="HierarchicalAccessManager(org.jtrim.concurrent.TaskExecutor)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>HierarchicalAccessManager</h4>
<pre>public&nbsp;HierarchicalAccessManager(org.jtrim.concurrent.TaskExecutor&nbsp;eventExecutor)</pre>
<div class="block">Creates a new <code>HierarchicalAccessManager</code> executing events in the
 context of the specified executor.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>eventExecutor</code> - the <code>Executor</code> to which events are submitted
   to. This argument cannot be <code>null</code>.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.NullPointerException</code> - thrown if the specified executor is
   <code>null</code></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="addAccessChangeListener(org.jtrim.access.AccessChangeListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addAccessChangeListener</h4>
<pre>public&nbsp;org.jtrim.event.ListenerRef&nbsp;addAccessChangeListener(<a href="../../../org/jtrim/access/AccessChangeListener.html" title="interface in org.jtrim.access">AccessChangeListener</a>&lt;<a href="../../../org/jtrim/access/HierarchicalAccessManager.html" title="type parameter in HierarchicalAccessManager">IDType</a>,<a href="../../../org/jtrim/access/HierarchicalRight.html" title="class in org.jtrim.access">HierarchicalRight</a>&gt;&nbsp;listener)</pre>
<div class="block">Adds a new listener which is to be notified whenever a new access token
 is acquired or released. The listeners are notified in the order these
 events occur. That is, if an event (A) happens before another event (B),
 then the notification of the registered listeners reporting the event A,
 happens before reporting the event B.
 <P>
 The listener can be removed by calling the
 <code>unregister</code> method of the returned
 reference.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../org/jtrim/access/AccessManager.html#addAccessChangeListener(org.jtrim.access.AccessChangeListener)">addAccessChangeListener</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/jtrim/access/AccessManager.html" title="interface in org.jtrim.access">AccessManager</a>&lt;<a href="../../../org/jtrim/access/HierarchicalAccessManager.html" title="type parameter in HierarchicalAccessManager">IDType</a>,<a href="../../../org/jtrim/access/HierarchicalRight.html" title="class in org.jtrim.access">HierarchicalRight</a>&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>listener</code> - the listener to be notified whenever a new access token
   is acquired or released. This argument cannot be <code>null</code>.</dd>
<dt><span class="strong">Returns:</span></dt><dd>the <code>ListenerRef</code> which can be used to remove the currently
   added listener. This method never returns <code>null</code>.</dd></dl>
</li>
</ul>
<a name="getBlockingTokens(java.util.Collection, java.util.Collection)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBlockingTokens</h4>
<pre>public&nbsp;java.util.Collection&lt;<a href="../../../org/jtrim/access/AccessToken.html" title="interface in org.jtrim.access">AccessToken</a>&lt;<a href="../../../org/jtrim/access/HierarchicalAccessManager.html" title="type parameter in HierarchicalAccessManager">IDType</a>&gt;&gt;&nbsp;getBlockingTokens(java.util.Collection&lt;? extends <a href="../../../org/jtrim/access/HierarchicalRight.html" title="class in org.jtrim.access">HierarchicalRight</a>&gt;&nbsp;requestedReadRights,
                                                          java.util.Collection&lt;? extends <a href="../../../org/jtrim/access/HierarchicalRight.html" title="class in org.jtrim.access">HierarchicalRight</a>&gt;&nbsp;requestedWriteRights)</pre>
<div class="block">Returns the <a href="../../../org/jtrim/access/AccessToken.html" title="interface in org.jtrim.access"><code>AccessTokens</code></a> which conflicts the
 given read and write right request.
 <P>
 If no other right requests were made during and after this call
 shutting down these <code>AccessToken</code>s will allow the caller
 to immediately acquire the requested rights.
 <P>
 The following method prints the <code>AccessToken</code>s blocking a given
 right request:
 <pre>
 &lt;R&gt; void printConflicts(
     AccessManager&lt;?, R&gt; manager,
     AccessRequest&lt;?, R&gt; request) {
   Collection<?> conflicts = manager.getBlockingTokens(
     request.getReadRights(),
     request.getWriteRights());

   if (conflicts.isEmpty()) {
     System.out.println("There are no conflicts.");
   }
   else {
     System.out.println("Conflicts: " + conflicts);
   }
 }
 </pre>
 <P>
 Note that the returned tokens may conflict because they may contain
 tokens that were not yet returned by a
 <a href="../../../org/jtrim/access/AccessManager.html#getScheduledAccess(org.jtrim.access.AccessRequest)"><code>AccessManager.getScheduledAccess(AccessRequest)</code></a> call.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../org/jtrim/access/AccessManager.html#getBlockingTokens(java.util.Collection, java.util.Collection)">getBlockingTokens</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/jtrim/access/AccessManager.html" title="interface in org.jtrim.access">AccessManager</a>&lt;<a href="../../../org/jtrim/access/HierarchicalAccessManager.html" title="type parameter in HierarchicalAccessManager">IDType</a>,<a href="../../../org/jtrim/access/HierarchicalRight.html" title="class in org.jtrim.access">HierarchicalRight</a>&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>requestedReadRights</code> - the required read rights. This argument
   cannot be <code>null</code> but can be an empty <code>Collection</code>.</dd><dd><code>requestedWriteRights</code> - the required write rights. This argument
   cannot be <code>null</code> but can be an empty <code>Collection</code>.</dd>
<dt><span class="strong">Returns:</span></dt><dd>the <code>AccessToken</code>s needed to be shutted down before
    being able to acquire the required rights. This method never returns
    <code>null</code>.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../org/jtrim/access/AccessManager.html#isAvailable(java.util.Collection, java.util.Collection)"><code>AccessManager.isAvailable(Collection, Collection)</code></a></dd></dl>
</li>
</ul>
<a name="isAvailable(java.util.Collection, java.util.Collection)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isAvailable</h4>
<pre>public&nbsp;boolean&nbsp;isAvailable(java.util.Collection&lt;? extends <a href="../../../org/jtrim/access/HierarchicalRight.html" title="class in org.jtrim.access">HierarchicalRight</a>&gt;&nbsp;requestedReadRights,
                  java.util.Collection&lt;? extends <a href="../../../org/jtrim/access/HierarchicalRight.html" title="class in org.jtrim.access">HierarchicalRight</a>&gt;&nbsp;requestedWriteRights)</pre>
<div class="block">Checks if the given rights are currently available for an access request.
 That is, if this method returns <code>true</code>, a subsequent
 <code>tryGetAccess</code> will succeed unless new access is requested before
 the <code>tryGetAccess</code>.
 <P>
 This method returns <code>true</code>, if and only, if the
 <a href="../../../org/jtrim/access/AccessManager.html#getBlockingTokens(java.util.Collection, java.util.Collection)"><code>getBlockingTokens</code></a>
 method call would have returned an empty <code>Collection</code>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../org/jtrim/access/AccessManager.html#isAvailable(java.util.Collection, java.util.Collection)">isAvailable</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/jtrim/access/AccessManager.html" title="interface in org.jtrim.access">AccessManager</a>&lt;<a href="../../../org/jtrim/access/HierarchicalAccessManager.html" title="type parameter in HierarchicalAccessManager">IDType</a>,<a href="../../../org/jtrim/access/HierarchicalRight.html" title="class in org.jtrim.access">HierarchicalRight</a>&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>requestedReadRights</code> - the required read rights. This argument
   cannot be <code>null</code> but can be an empty <code>Collection</code>.</dd><dd><code>requestedWriteRights</code> - the required write rights. This argument
   cannot be <code>null</code> but can be an empty <code>Collection</code>.</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> if the specified rights are available at the moment,
   <code>false</code> if not</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../org/jtrim/access/AccessManager.html#getBlockingTokens(java.util.Collection, java.util.Collection)"><code>AccessManager.getBlockingTokens(Collection, Collection)</code></a></dd></dl>
</li>
</ul>
<a name="tryGetAccess(org.jtrim.access.AccessRequest)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tryGetAccess</h4>
<pre>public&nbsp;<a href="../../../org/jtrim/access/AccessResult.html" title="class in org.jtrim.access">AccessResult</a>&lt;<a href="../../../org/jtrim/access/HierarchicalAccessManager.html" title="type parameter in HierarchicalAccessManager">IDType</a>&gt;&nbsp;tryGetAccess(<a href="../../../org/jtrim/access/AccessRequest.html" title="class in org.jtrim.access">AccessRequest</a>&lt;? extends <a href="../../../org/jtrim/access/HierarchicalAccessManager.html" title="type parameter in HierarchicalAccessManager">IDType</a>,? extends <a href="../../../org/jtrim/access/HierarchicalRight.html" title="class in org.jtrim.access">HierarchicalRight</a>&gt;&nbsp;request)</pre>
<div class="block">Tries to acquire the requested rights and returns immediately if it
 cannot be acquired without waiting and/or releasing
 <a href="../../../org/jtrim/access/AccessToken.html" title="interface in org.jtrim.access"><code>AccessTokens</code></a>. The returned access token will use
 the default executor to execute tasks submitted to it. This method never
 waits for tasks to complete and always returns immediately.
 <P>
 This method either returns an <code>AccessToken</code> representing the
 requested rights or the list of <code>AccessToken</code>s required to be
 shutted down before such request can be granted. Note that even if the
 request could have been granted the returned <code>AccessToken</code> can
 already be released when the caller wants to use it.
 <P>
 The following method executes a task using a given right request
 or prints the conflicting <code>AccessToken</code>s if it cannot be
 done immediately:
 <pre>
 &lt;R&gt; void tryExecuteTask(
     AccessManager&lt;?, R&gt; manager,
     TaskExecutor executor,
     AccessRequest&lt;?, R&gt; request
     CancelableTask task) {
   AccessResult&lt;IDType&gt; result = manager.tryGetAccess(request);

   if (result.isAvailable()) {
     TaskExecutor tokenExecutor = result.getAccessToken().createExecutor(executor);
     tokenExecutor.execute(Cancellation.UNCANCELABLE_TOKEN, task, null);
   }
   else {
     System.out.println("Conflicts: " + result.getBlockingTokens());
   }
 }
 </pre>
 Note that the returned blocking tokens (those conflicting with the
 requested rights) may conflict because they may contain tokens that were
 returned by a <a href="../../../org/jtrim/access/AccessManager.html#getScheduledAccess(org.jtrim.access.AccessRequest)"><code>AccessManager.getScheduledAccess(AccessRequest)</code></a> call.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../org/jtrim/access/AccessManager.html#tryGetAccess(org.jtrim.access.AccessRequest)">tryGetAccess</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/jtrim/access/AccessManager.html" title="interface in org.jtrim.access">AccessManager</a>&lt;<a href="../../../org/jtrim/access/HierarchicalAccessManager.html" title="type parameter in HierarchicalAccessManager">IDType</a>,<a href="../../../org/jtrim/access/HierarchicalRight.html" title="class in org.jtrim.access">HierarchicalRight</a>&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>request</code> - the rights to be requested. This argument cannot be
   <code>null</code>.</dd>
<dt><span class="strong">Returns:</span></dt><dd>the <code>AccessToken</code> if the request could be granted or
   the list of <code>AccessToken</code>s that needed to be shutted down before
   the request can be granted. This method never returns <code>null</code>.</dd></dl>
</li>
</ul>
<a name="getScheduledAccess(org.jtrim.access.AccessRequest)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getScheduledAccess</h4>
<pre>public&nbsp;<a href="../../../org/jtrim/access/AccessResult.html" title="class in org.jtrim.access">AccessResult</a>&lt;<a href="../../../org/jtrim/access/HierarchicalAccessManager.html" title="type parameter in HierarchicalAccessManager">IDType</a>&gt;&nbsp;getScheduledAccess(<a href="../../../org/jtrim/access/AccessRequest.html" title="class in org.jtrim.access">AccessRequest</a>&lt;? extends <a href="../../../org/jtrim/access/HierarchicalAccessManager.html" title="type parameter in HierarchicalAccessManager">IDType</a>,? extends <a href="../../../org/jtrim/access/HierarchicalRight.html" title="class in org.jtrim.access">HierarchicalRight</a>&gt;&nbsp;request)</pre>
<div class="block">Returns an <a href="../../../org/jtrim/access/AccessToken.html" title="interface in org.jtrim.access"><code>AccessToken</code></a> which has the requested rights and will
 execute tasks after all conflicting <code>AccessToken</code>s have been
 released.
 <P>
 This method returns immediately without waiting with an
 <code>AccessToken</code> to which tasks can be scheduled to but these tasks
 will not be executed until there are active conflicting
 <code>AccessToken</code>s (<code>AccessToken</code>s not yet shutted down).
 The returned result will also contain the conflicting
 <code>AccessToken</code>s needed to be shutted down before tasks will be
 executed by the returned <code>AccessToken</code>.
 <P>
 The following method will print the conflicting tokens and
 schedule a task to be executed after the conflicting tokens were
 released:
 <pre>
 &lt;R&gt; void executeTask(
     AccessManager&lt;?, R&gt; manager,
     TaskExecutor executor,
     AccessRequest&lt;?, R&gt; request
     CancelableTask task) {
   AccessResult&lt?&gt; result = manager.getScheduledAccess(request);
   try {
     System.out.println("Conflicts: " + result.getBlockingTokens());
     TaskExecutor tokenExecutor = result.getAccessToken().createExecutor(executor);
     tokenExecutor.execute(Cancellation.UNCANCELABLE_TOKEN, task, null);
   } finally {
     result.release();
   }
 }
 </pre></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../org/jtrim/access/AccessManager.html#getScheduledAccess(org.jtrim.access.AccessRequest)">getScheduledAccess</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/jtrim/access/AccessManager.html" title="interface in org.jtrim.access">AccessManager</a>&lt;<a href="../../../org/jtrim/access/HierarchicalAccessManager.html" title="type parameter in HierarchicalAccessManager">IDType</a>,<a href="../../../org/jtrim/access/HierarchicalRight.html" title="class in org.jtrim.access">HierarchicalRight</a>&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>request</code> - the rights to be requested. This argument cannot be
   <code>null</code>.</dd>
<dt><span class="strong">Returns:</span></dt><dd>the <code>AccessToken</code> associated with the requested rights
   and the list of tokens that must be shutted down before a task
   scheduled to the returned <code>AccessToken</code> can execute. This method
   always returns a <code>non-null</code> <code>AccessToken</code>.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../org/jtrim/access/ScheduledAccessToken.html" title="class in org.jtrim.access"><code>ScheduledAccessToken</code></a></dd></dl>
</li>
</ul>
<a name="getRights(java.util.Collection, java.util.Collection)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRights</h4>
<pre>public&nbsp;void&nbsp;getRights(java.util.Collection&lt;<a href="../../../org/jtrim/access/HierarchicalRight.html" title="class in org.jtrim.access">HierarchicalRight</a>&gt;&nbsp;readRights,
             java.util.Collection&lt;<a href="../../../org/jtrim/access/HierarchicalRight.html" title="class in org.jtrim.access">HierarchicalRight</a>&gt;&nbsp;writeRights)</pre>
<div class="block">Returns the rights that are currently in use: there are not terminated
 <a href="../../../org/jtrim/access/AccessToken.html" title="interface in org.jtrim.access"><code>AccessTokens</code></a> associated with these rights.
 <P>
 This method was designed for monitoring only and cannot be used
 for synchronization control.
 <P>
 Note this method will return a disjunct sets for the read and write
 rights.

 <h5>Thread safety</h5>
 Note that although this method is thread-safe, the rights may change
 right after this method returns, so they may not be up-to-date.
 <h6>Synchronization transparency</h6>
 This method is <I>synchronization transparent</I>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>readRights</code> - the rights that are currently used for "reading" will
   be added to this collection. These rights can be requested for reading.
   No rights will be added more than once. This argument cannot be
   <code>null</code>.</dd><dd><code>writeRights</code> - the rights that are currently used for "writing"
   (i.e.: they are used exclusively) will be added to this collection.
   No rights will be added more than once.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.NullPointerException</code> - thrown if on of the arguments is
   <code>null</code></dd></dl>
</li>
</ul>
<a name="toString()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString()</pre>
<div class="block">Returns the string representation of this access manager in no
 particular format. The string representation will contain the rights
 currently in use.
 <P>
 This method is intended to be used for debugging only.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
<dt><span class="strong">Returns:</span></dt><dd>the string representation of this object in no particular format.
   This method never returns <code>null</code>.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/jtrim/access/DelegatedAccessToken.html" title="class in org.jtrim.access"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/jtrim/access/HierarchicalRight.html" title="class in org.jtrim.access"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/jtrim/access/HierarchicalAccessManager.html" target="_top">Frames</a></li>
<li><a href="HierarchicalAccessManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
