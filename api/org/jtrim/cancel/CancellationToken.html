<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="hu">
<head>
<!-- Generated by javadoc (version 1.7.0_13) on Mon Feb 11 02:59:41 CET 2013 -->
<title>CancellationToken (jtrim-core 1.3.3-alpha API)</title>
<meta name="date" content="2013-02-11">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="CancellationToken (jtrim-core 1.3.3-alpha API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/jtrim/cancel/CancellationSource.html" title="interface in org.jtrim.cancel"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/jtrim/cancel/InterruptibleLimitedWait.html" title="interface in org.jtrim.cancel"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/jtrim/cancel/CancellationToken.html" target="_top">Frames</a></li>
<li><a href="CancellationToken.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.jtrim.cancel</div>
<h2 title="Interface CancellationToken" class="title">Interface CancellationToken</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public interface <span class="strong">CancellationToken</span></pre>
<div class="block">Defines an interface to detect cancellation requests. How cancellation is
 done is implementation dependent but it is usually controlled by an
 associated <a href="../../../org/jtrim/cancel/CancellationController.html" title="interface in org.jtrim.cancel"><code>CancellationController</code></a> sharing the same
 <a href="../../../org/jtrim/cancel/CancellationSource.html" title="interface in org.jtrim.cancel"><code>CancellationSource</code></a>.
 <P>
 In general there are two ways to listen for cancellation requests:
 <ul>
  <li>
   The <code>isCanceled()</code> method may be checked periodically and act
   accordingly when it returns <code>true</code>. Usually the best way to react
   to a cancellation request is to throw a <a href="../../../org/jtrim/cancel/OperationCanceledException.html" title="class in org.jtrim.cancel"><code>OperationCanceledException</code></a>.
   In this case the convenient <a href="../../../org/jtrim/cancel/CancellationToken.html#checkCanceled()"><code>checkCanceled()</code></a> method
   can be used.
  </li>
  <li>
   A listener maybe added to be notified immediately when cancellation occurs.
   This can be done by calling the
   <a href="../../../org/jtrim/cancel/CancellationToken.html#addCancellationListener(java.lang.Runnable)"><code>addCancellationListener(Runnable)</code></a>
   method. This asynchronous notification is usually preferable when a subtask
   (such as an IO operation) must be canceled as a response to a cancellation
   request .
  </li>
 </ul>

 <h3>Thread safety</h3>
 The methods of this interface must be safe to be accessed by multiple threads
 concurrently.

 <h4>Synchronization transparency</h4>
 The <code>isCanceled()</code> and the <code>checkCanceled()</code> methods must be
 <I>synchronization transparent</I> but the <code>addCancellationListener</code>
 is not (as it may invoke cancellation listeners).</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../org/jtrim/cancel/CancellationSource.html" title="interface in org.jtrim.cancel"><code>CancellationSource</code></a>, 
<a href="../../../org/jtrim/cancel/Cancellation.html#CANCELED_TOKEN"><code>Cancellation.CANCELED_TOKEN</code></a>, 
<a href="../../../org/jtrim/cancel/Cancellation.html#UNCANCELABLE_TOKEN"><code>Cancellation.UNCANCELABLE_TOKEN</code></a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../org/jtrim/event/ListenerRef.html" title="interface in org.jtrim.event">ListenerRef</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/jtrim/cancel/CancellationToken.html#addCancellationListener(java.lang.Runnable)">addCancellationListener</a></strong>(java.lang.Runnable&nbsp;listener)</code>
<div class="block">Adds a listener which is to be called when cancellation was requested.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/jtrim/cancel/CancellationToken.html#checkCanceled()">checkCanceled</a></strong>()</code>
<div class="block">Checks if cancellation has been requested and throws a
 <a href="../../../org/jtrim/cancel/OperationCanceledException.html" title="class in org.jtrim.cancel"><code>OperationCanceledException</code></a> if so otherwise returns immediately
 without doing anything.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../org/jtrim/cancel/CancellationToken.html#isCanceled()">isCanceled</a></strong>()</code>
<div class="block">Returns <code>true</code> if cancellation was requested.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="addCancellationListener(java.lang.Runnable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addCancellationListener</h4>
<pre><a href="../../../org/jtrim/event/ListenerRef.html" title="interface in org.jtrim.event">ListenerRef</a>&nbsp;addCancellationListener(java.lang.Runnable&nbsp;listener)</pre>
<div class="block">Adds a listener which is to be called when cancellation was requested.
 In case cancellation has already been requested, the listener may be
 notified on the current thread. Note that the listener may be notified
 in various places such as the <a href="../../../org/jtrim/cancel/CancellationController.html#cancel()"><code>cancel</code></a>
 method of <a href="../../../org/jtrim/cancel/CancellationController.html" title="interface in org.jtrim.cancel"><code>CancellationController</code></a> so it must not do anything
 expensive and especially must not wait for external events (such as IO).
 <P>
 The specified listener will always be notified when cancellation is
 requested regardless when it occurred and it will not be notified
 multiple times.
 <P>
 Note that since this method may need to notify the listener on the
 current thread, it may propagate any unchecked exception the listener
 throws to the caller.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>listener</code> - the <code>Runnable</code> whose <code>run</code> method is to be
   called when cancellation was requested. This listener can be notified
   in various places, so it is especially important that this listener
   does as little task as possible and must not wait for external events.
   This argument cannot be <code>null</code>.</dd>
<dt><span class="strong">Returns:</span></dt><dd>the <code>ListenerRef</code> which can be used to unregister the
   listener, so that it will no longer be notified of cancellation
   requests. Unregistering the listener prevents notifications of
   subsequent cancellation requests but if cancellation was requested
   prior to this call (or concurrently with this call), the listener
   might be notified even after the listener has been unregistered.
   This method never returns <code>null</code>.</dd></dl>
</li>
</ul>
<a name="isCanceled()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isCanceled</h4>
<pre>boolean&nbsp;isCanceled()</pre>
<div class="block">Returns <code>true</code> if cancellation was requested. This method may be
 checked periodically to detect cancellation requests but since the usual
 way to respond to such request is throwing a
 <a href="../../../org/jtrim/cancel/OperationCanceledException.html" title="class in org.jtrim.cancel"><code>OperationCanceledException</code></a>, it is more convenient to use the
 <a href="../../../org/jtrim/cancel/CancellationToken.html#checkCanceled()"><code>checkCanceled()</code></a> method.
 <P>
 This method must be implemented so, that once it returned <code>true</code>,
 it must return <code>true</code> forever after (it cannot revert to returning
 <code>false</code>).</div>
<dl><dt><span class="strong">Returns:</span></dt><dd><code>true</code> if cancellation was requested, <code>false</code> if not</dd></dl>
</li>
</ul>
<a name="checkCanceled()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>checkCanceled</h4>
<pre>void&nbsp;checkCanceled()</pre>
<div class="block">Checks if cancellation has been requested and throws a
 <a href="../../../org/jtrim/cancel/OperationCanceledException.html" title="class in org.jtrim.cancel"><code>OperationCanceledException</code></a> if so otherwise returns immediately
 without doing anything.
 <P>
 This method is only provided for convenience and it is a shorthand for
 the following code:
 <code><pre>
 if (token.isCanceled()) {
   throw new OperationCanceledException();
 }
 </pre></code></div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../org/jtrim/cancel/OperationCanceledException.html" title="class in org.jtrim.cancel">OperationCanceledException</a></code> - thrown if cancellation was requested.
   If this exception is thrown, <a href="../../../org/jtrim/cancel/CancellationToken.html#isCanceled()"><code>isCanceled()</code></a> returns
   <code>true</code>.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/jtrim/cancel/CancellationSource.html" title="interface in org.jtrim.cancel"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/jtrim/cancel/InterruptibleLimitedWait.html" title="interface in org.jtrim.cancel"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/jtrim/cancel/CancellationToken.html" target="_top">Frames</a></li>
<li><a href="CancellationToken.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
