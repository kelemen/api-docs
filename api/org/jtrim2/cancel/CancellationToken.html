<!DOCTYPE HTML>
<html lang="hu">
<head>
<!-- Generated by javadoc (17) -->
<title>CancellationToken (JTrim 2.0.5 - All modules)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: org.jtrim2.cancel, interface: CancellationToken">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.jtrim2.cancel</a></div>
<h1 title="Interface CancellationToken" class="title">Interface CancellationToken</h1>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">CancellationToken</span></div>
<div class="block">Defines an interface to detect cancellation requests. How cancellation is
 done is implementation dependent but it is usually controlled by an
 associated <a href="CancellationController.html" title="interface in org.jtrim2.cancel"><code>CancellationController</code></a> sharing the same
 <a href="CancellationSource.html" title="interface in org.jtrim2.cancel"><code>CancellationSource</code></a>.
 <P>
 In general there are two ways to listen for cancellation requests:
 <ul>
  <li>
   The <code>isCanceled()</code> method may be checked periodically and act
   accordingly when it returns <code>true</code>. Usually the best way to react
   to a cancellation request is to throw a <a href="OperationCanceledException.html" title="class in org.jtrim2.cancel"><code>OperationCanceledException</code></a>.
   In this case the convenient <a href="#checkCanceled()"><code>checkCanceled()</code></a> method
   can be used.
  </li>
  <li>
   A listener maybe added to be notified immediately when cancellation occurs.
   This can be done by calling the
   <a href="#addCancellationListener(java.lang.Runnable)"><code>addCancellationListener(Runnable)</code></a>
   method. This asynchronous notification is usually preferable when a subtask
   (such as an IO operation) must be canceled as a response to a cancellation
   request .
  </li>
 </ul>

 <h2>Thread safety</h2>
 The methods of this interface must be safe to be accessed by multiple threads
 concurrently.

 <h3>Synchronization transparency</h3>
 The <code>isCanceled()</code> and the <code>checkCanceled()</code> methods must be
 <I>synchronization transparent</I> but the <code>addCancellationListener</code>
 is not (as it may invoke cancellation listeners).</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="CancellationSource.html" title="interface in org.jtrim2.cancel"><code>CancellationSource</code></a></li>
<li><a href="Cancellation.html#CANCELED_TOKEN"><code>Cancellation.CANCELED_TOKEN</code></a></li>
<li><a href="Cancellation.html#UNCANCELABLE_TOKEN"><code>Cancellation.UNCANCELABLE_TOKEN</code></a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button><button id="method-summary-table-tab5" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab5', 3)" class="table-tab">Default Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="../event/ListenerRef.html" title="interface in org.jtrim2.event">ListenerRef</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#addCancellationListener(java.lang.Runnable)" class="member-name-link">addCancellationListener</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a>&nbsp;listener)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Adds a listener which is to be called when cancellation was requested.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#checkCanceled()" class="member-name-link">checkCanceled</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Checks if cancellation has been requested and throws a
 <a href="OperationCanceledException.html" title="class in org.jtrim2.cancel"><code>OperationCanceledException</code></a> if so otherwise returns immediately
 without doing anything.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#isCanceled()" class="member-name-link">isCanceled</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns <code>true</code> if cancellation was requested.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="addCancellationListener(java.lang.Runnable)">
<h3>addCancellationListener</h3>
<div class="member-signature"><span class="return-type"><a href="../event/ListenerRef.html" title="interface in org.jtrim2.event">ListenerRef</a></span>&nbsp;<span class="element-name">addCancellationListener</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a>&nbsp;listener)</span></div>
<div class="block">Adds a listener which is to be called when cancellation was requested.
 In case cancellation has already been requested, the listener may be
 notified on the current thread. Note that the listener may be notified
 in various places such as the <a href="CancellationController.html#cancel()"><code>cancel</code></a>
 method of <a href="CancellationController.html" title="interface in org.jtrim2.cancel"><code>CancellationController</code></a> so it must not do anything
 expensive and especially must not wait for external events (such as IO).
 <P>
 The specified listener will always be notified when cancellation is
 requested regardless when it occurred and it will not be notified
 multiple times.
 <P>
 Note that since this method may need to notify the listener on the
 current thread, it may propagate any unchecked exception the listener
 throws to the caller.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>listener</code> - the <code>Runnable</code> whose <code>run</code> method is to be
   called when cancellation was requested. This listener can be notified
   in various places, so it is especially important that this listener
   does as little task as possible and must not wait for external events.
   This argument cannot be <code>null</code>.</dd>
<dt>Returns:</dt>
<dd>the <code>ListenerRef</code> which can be used to unregister the
   listener, so that it will no longer be notified of cancellation
   requests. Unregistering the listener prevents notifications of
   subsequent cancellation requests but if cancellation was requested
   prior to this call (or concurrently with this call), the listener
   might be notified even after the listener has been unregistered.
   This method never returns <code>null</code>.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isCanceled()">
<h3>isCanceled</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">isCanceled</span>()</div>
<div class="block">Returns <code>true</code> if cancellation was requested. This method may be
 checked periodically to detect cancellation requests but since the usual
 way to respond to such request is throwing a
 <a href="OperationCanceledException.html" title="class in org.jtrim2.cancel"><code>OperationCanceledException</code></a>, it is more convenient to use the
 <a href="#checkCanceled()"><code>checkCanceled()</code></a> method.
 <P>
 This method must be implemented so, that once it returned <code>true</code>,
 it must return <code>true</code> forever after (it cannot revert to returning
 <code>false</code>).</div>
<dl class="notes">
<dt>Returns:</dt>
<dd><code>true</code> if cancellation was requested, <code>false</code> if not</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="checkCanceled()">
<h3>checkCanceled</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">checkCanceled</span>()</div>
<div class="block">Checks if cancellation has been requested and throws a
 <a href="OperationCanceledException.html" title="class in org.jtrim2.cancel"><code>OperationCanceledException</code></a> if so otherwise returns immediately
 without doing anything.
 <P>
 This method is only provided for convenience and it is a shorthand for
 the following code:
 <pre><code>
 if (token.isCanceled()) {
   throw new OperationCanceledException();
 }
 </code></pre></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="OperationCanceledException.html" title="class in org.jtrim2.cancel">OperationCanceledException</a></code> - thrown if cancellation was requested.
   If this exception is thrown, <a href="#isCanceled()"><code>isCanceled()</code></a> returns
   <code>true</code>.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
