<!DOCTYPE HTML>
<html lang="hu">
<head>
<!-- Generated by javadoc (17) -->
<title>Cancellation (jtrim-concurrent 2.0.6 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: org.jtrim2.cancel, class: Cancellation">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.jtrim2.cancel</a></div>
<h1 title="Class Cancellation" class="title">Class Cancellation</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">org.jtrim2.cancel.Cancellation</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public final class </span><span class="element-name type-name-label">Cancellation</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">Contains static helper methods and fields related cancellation.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static final <a href="CancellationToken.html" title="interface in org.jtrim2.cancel">CancellationToken</a></code></div>
<div class="col-second even-row-color"><code><a href="#CANCELED_TOKEN" class="member-name-link">CANCELED_TOKEN</a></code></div>
<div class="col-last even-row-color">
<div class="block">A <a href="CancellationToken.html" title="interface in org.jtrim2.cancel"><code>CancellationToken</code></a> which is already in the canceled state.</div>
</div>
<div class="col-first odd-row-color"><code>static final <a href="CancellationController.html" title="interface in org.jtrim2.cancel">CancellationController</a></code></div>
<div class="col-second odd-row-color"><code><a href="#DO_NOTHING_CONTROLLER" class="member-name-link">DO_NOTHING_CONTROLLER</a></code></div>
<div class="col-last odd-row-color">
<div class="block">A <a href="CancellationController.html" title="interface in org.jtrim2.cancel"><code>CancellationController</code></a> which does nothing when calling
 <code>cancel</code>.</div>
</div>
<div class="col-first even-row-color"><code>static final <a href="CancellationToken.html" title="interface in org.jtrim2.cancel">CancellationToken</a></code></div>
<div class="col-second even-row-color"><code><a href="#UNCANCELABLE_TOKEN" class="member-name-link">UNCANCELABLE_TOKEN</a></code></div>
<div class="col-last even-row-color">
<div class="block">A <a href="CancellationToken.html" title="interface in org.jtrim2.cancel"><code>CancellationToken</code></a> which can never be in the canceled state.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="CancellationToken.html" title="interface in org.jtrim2.cancel">CancellationToken</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#allTokens(org.jtrim2.cancel.CancellationToken...)" class="member-name-link">allTokens</a><wbr>(<a href="CancellationToken.html" title="interface in org.jtrim2.cancel">CancellationToken</a>...&nbsp;tokens)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns a <code>CancellationToken</code> which signals cancellation if and
 only if all of the specified tokens are in canceled state.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="CancellationToken.html" title="interface in org.jtrim2.cancel">CancellationToken</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#anyToken(org.jtrim2.cancel.CancellationToken...)" class="member-name-link">anyToken</a><wbr>(<a href="CancellationToken.html" title="interface in org.jtrim2.cancel">CancellationToken</a>...&nbsp;tokens)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns a <code>CancellationToken</code> which signals cancellation if and
 only if at least one of the specified tokens are in canceled state.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="CancellationSource.html" title="interface in org.jtrim2.cancel">CancellationSource</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#createCancellationSource()" class="member-name-link">createCancellationSource</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Creates a new <code>CancellationSource</code> whose <a href="CancellationToken.html" title="interface in org.jtrim2.cancel"><code>CancellationToken</code></a>
 is not yet in the canceled state.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="CancellationSource.html" title="interface in org.jtrim2.cancel">CancellationSource</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#createChildCancellationSource(org.jtrim2.cancel.CancellationToken)" class="member-name-link">createChildCancellationSource</a><wbr>(<a href="CancellationToken.html" title="interface in org.jtrim2.cancel">CancellationToken</a>&nbsp;cancelToken)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Creates a new <code>CancellationSource</code> which will be notified of the
 cancellation requests of the specified <code>CancellationToken</code>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static &lt;ResultType&gt;<br>ResultType</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#doAsCancelable(org.jtrim2.cancel.CancellationToken,org.jtrim2.cancel.InterruptibleTask)" class="member-name-link">doAsCancelable</a><wbr>(<a href="CancellationToken.html" title="interface in org.jtrim2.cancel">CancellationToken</a>&nbsp;cancelToken,
 <a href="InterruptibleTask.html" title="interface in org.jtrim2.cancel">InterruptibleTask</a>&lt;ResultType&gt;&nbsp;task)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Executes the specified task on the current thread synchronously and
 interrupts the current thread if the specified <a href="CancellationToken.html" title="interface in org.jtrim2.cancel"><code>CancellationToken</code></a>
 signals a cancellation request.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="WaitableListenerRef.html" title="interface in org.jtrim2.cancel">WaitableListenerRef</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#listenForCancellation(org.jtrim2.cancel.CancellationToken,java.lang.Runnable)" class="member-name-link">listenForCancellation</a><wbr>(<a href="CancellationToken.html" title="interface in org.jtrim2.cancel">CancellationToken</a>&nbsp;cancelToken,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a>&nbsp;listener)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Adds a <a href="CancellationToken.html#addCancellationListener(java.lang.Runnable)"><code>cancellation listener</code></a>
 to the specified <code>CancellationToken</code> and returns reference which
 can be used to remove the listener and wait until it has been removed.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="UNCANCELABLE_TOKEN">
<h3>UNCANCELABLE_TOKEN</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="CancellationToken.html" title="interface in org.jtrim2.cancel">CancellationToken</a></span>&nbsp;<span class="element-name">UNCANCELABLE_TOKEN</span></div>
<div class="block">A <a href="CancellationToken.html" title="interface in org.jtrim2.cancel"><code>CancellationToken</code></a> which can never be in the canceled state.
 The <a href="CancellationToken.html#isCanceled()"><code>isCanceled</code></a> method of
 <code>UNCANCELABLE_TOKEN</code> will always return <code>false</code> when checked.
 If a listener is registered with this token to be notified of
 cancellation requests, this <code>CancellationToken</code> will do nothing but
 return an already unregistered <code>ListenerRef</code>.</div>
</section>
</li>
<li>
<section class="detail" id="CANCELED_TOKEN">
<h3>CANCELED_TOKEN</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="CancellationToken.html" title="interface in org.jtrim2.cancel">CancellationToken</a></span>&nbsp;<span class="element-name">CANCELED_TOKEN</span></div>
<div class="block">A <a href="CancellationToken.html" title="interface in org.jtrim2.cancel"><code>CancellationToken</code></a> which is already in the canceled state.
 The <a href="CancellationToken.html#isCanceled()"><code>isCanceled</code></a> method of
 <code>UNCANCELABLE_TOKEN</code> will always return <code>true</code> when checked.
 If a listener is registered with this token to be notified of
 cancellation requests, this <code>CancellationToken</code> will immediately
 notify the listener and return an already unregistered
 <code>ListenerRef</code>.
 <P>
 If you need a <a href="CancellationController.html" title="interface in org.jtrim2.cancel"><code>CancellationController</code></a> as well, use the
 <a href="#DO_NOTHING_CONTROLLER"><code>DO_NOTHING_CONTROLLER</code></a>.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#DO_NOTHING_CONTROLLER"><code>DO_NOTHING_CONTROLLER</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="DO_NOTHING_CONTROLLER">
<h3>DO_NOTHING_CONTROLLER</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="CancellationController.html" title="interface in org.jtrim2.cancel">CancellationController</a></span>&nbsp;<span class="element-name">DO_NOTHING_CONTROLLER</span></div>
<div class="block">A <a href="CancellationController.html" title="interface in org.jtrim2.cancel"><code>CancellationController</code></a> which does nothing when calling
 <code>cancel</code>.
 <P>
 This <code>CancellationController</code> is good for tasks, cannot be canceled
 or tasks already canceled.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#CANCELED_TOKEN"><code>CANCELED_TOKEN</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="createCancellationSource()">
<h3>createCancellationSource</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="CancellationSource.html" title="interface in org.jtrim2.cancel">CancellationSource</a></span>&nbsp;<span class="element-name">createCancellationSource</span>()</div>
<div class="block">Creates a new <code>CancellationSource</code> whose <a href="CancellationToken.html" title="interface in org.jtrim2.cancel"><code>CancellationToken</code></a>
 is not yet in the canceled state. The only possible way to make the
 <code>CancellationToken</code> of the returned <code>CancellationSource</code>
 signal cancellation request is to cancel the
 <a href="CancellationController.html" title="interface in org.jtrim2.cancel"><code>CancellationController</code></a> of the returned
 <code>CancellationSource</code>.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a new <code>CancellationSource</code> whose <a href="CancellationToken.html" title="interface in org.jtrim2.cancel"><code>CancellationToken</code></a>
   is not yet in the canceled state. This method never returns
   <code>null</code>.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createChildCancellationSource(org.jtrim2.cancel.CancellationToken)">
<h3>createChildCancellationSource</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="CancellationSource.html" title="interface in org.jtrim2.cancel">CancellationSource</a></span>&nbsp;<span class="element-name">createChildCancellationSource</span><wbr><span class="parameters">(<a href="CancellationToken.html" title="interface in org.jtrim2.cancel">CancellationToken</a>&nbsp;cancelToken)</span></div>
<div class="block">Creates a new <code>CancellationSource</code> which will be notified of the
 cancellation requests of the specified <code>CancellationToken</code>.
 That is, if the <code>CancellationToken</code> specified in the argument is
 canceled, the returned <code>CancellationToken</code> will be canceled as
 well. Of course, the returned <code>CancellationSource</code> can also be
 canceled by its own <code>CancellationController</code></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>cancelToken</code> - the <code>CancellationToken</code>, which when canceled,
   will cause the returned <code>CancellationSource</code> to be canceled. This
   argument cannot be <code>null</code>.</dd>
<dt>Returns:</dt>
<dd>the new <code>ChildCancellationSource</code> which will be notified
   of the cancellation requests of the specified
   <code>CancellationToken</code>. This method never returns <code>null</code>.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html" title="class or interface in java.lang" class="external-link">NullPointerException</a></code> - thrown if the specified argument is
   <code>null</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="anyToken(org.jtrim2.cancel.CancellationToken...)">
<h3>anyToken</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="CancellationToken.html" title="interface in org.jtrim2.cancel">CancellationToken</a></span>&nbsp;<span class="element-name">anyToken</span><wbr><span class="parameters">(<a href="CancellationToken.html" title="interface in org.jtrim2.cancel">CancellationToken</a>...&nbsp;tokens)</span></div>
<div class="block">Returns a <code>CancellationToken</code> which signals cancellation if and
 only if at least one of the specified tokens are in canceled state.
 <P>
 If you do not specify any tokens, the returned token will never be in
 the canceled state.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>tokens</code> - the array of <code>CancellationToken</code> checked for
   cancellation. This array might be empty but cannot contain <code>null</code>
   elements.</dd>
<dt>Returns:</dt>
<dd>the <code>CancellationToken</code> which signals cancellation if and
   only if at least one of the specified tokens is in canceled state. This
   method never returns <code>null</code>.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="allTokens(org.jtrim2.cancel.CancellationToken...)">
<h3>allTokens</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="CancellationToken.html" title="interface in org.jtrim2.cancel">CancellationToken</a></span>&nbsp;<span class="element-name">allTokens</span><wbr><span class="parameters">(<a href="CancellationToken.html" title="interface in org.jtrim2.cancel">CancellationToken</a>...&nbsp;tokens)</span></div>
<div class="block">Returns a <code>CancellationToken</code> which signals cancellation if and
 only if all of the specified tokens are in canceled state.
 <P>
 If you do not specify any tokens, the returned token will always be in
 the canceled state.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>tokens</code> - the array of <code>CancellationToken</code> checked for
   cancellation. This array might be empty but cannot contain <code>null</code>
   elements.</dd>
<dt>Returns:</dt>
<dd>the <code>CancellationToken</code> which signals cancellation if and
   only if all of the specified tokens is in canceled state. This
   method never returns <code>null</code>.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="listenForCancellation(org.jtrim2.cancel.CancellationToken,java.lang.Runnable)">
<h3>listenForCancellation</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="WaitableListenerRef.html" title="interface in org.jtrim2.cancel">WaitableListenerRef</a></span>&nbsp;<span class="element-name">listenForCancellation</span><wbr><span class="parameters">(<a href="CancellationToken.html" title="interface in org.jtrim2.cancel">CancellationToken</a>&nbsp;cancelToken,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a>&nbsp;listener)</span></div>
<div class="block">Adds a <a href="CancellationToken.html#addCancellationListener(java.lang.Runnable)"><code>cancellation listener</code></a>
 to the specified <code>CancellationToken</code> and returns reference which
 can be used to remove the listener and wait until it has been removed.
 <P>
 <B>Warning</B>: It is forbidden to call any of the <code>close</code> methods
 from within the added listener. Attempting to do so will result in an
 <code>IllegalStateException</code> to be thrown by the <code>close</code> method.
 <P>
 Calling the <code>unregisterAndWait</code> method of the returned reference
 ensures the following:
 <ul>
  <li>
   After the <code>unregisterAndWait</code> methods returns normally (without
   throwing an exception), the listener is guaranteed not to be executed
   anymore.
  </li>
  <li>
   Calling the <code>unregisterAndWait</code> method (with valid argument)
   ensures that the added listener will be unregistered. This is
   <code>true</code> even if the <code>unregisterAndWait</code> method gets canceled.
  </li>
  <li>
   If the passed listener is <I>synchronization transparent</I>, then
   the <code>unregisterAndWait</code> method is
   <I>synchronization transparent</I> as well.
  </li>
 </ul>

 Here is an example usage:
 <pre><code>
 CancellationToken cancelToken = ...;
 WaitableListenerRef ref = listenerForCancellation(cancelToken, () -&gt; {
   System.out.println("CANCELED")
 });
 try {
   // ...
 } finally {
   ref.unregisterAndWait(Cancellation.UNCANCELABLE_TOKEN);
 }
 // When execution reaches this line, it is ensured that if "CANCELED"
 // has not been printed yet, it will never be printed.
 </code></pre></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>cancelToken</code> - the <code>CancellationToken</code> to which the listener
   is to be added. That is, the listener is registered to be notified of
   the cancellation requests of this token. This argument cannot be
   <code>null</code>.</dd>
<dd><code>listener</code> - the listener whose <code>run</code> method is to be passed
   as a cancellation listener to the specified <code>CancellationToken</code>.
   This argument cannot be <code>null</code>.</dd>
<dt>Returns:</dt>
<dd>a <code>CancelableCloseable</code> whose <code>close</code> methods can
   be used to unregister the added listener and wait until it can be
   ensured that the listener will never be executed. This method never
   returns <code>null</code>.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html" title="class or interface in java.lang" class="external-link">NullPointerException</a></code> - thrown if any of the arguments is
   <code>null</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="doAsCancelable(org.jtrim2.cancel.CancellationToken,org.jtrim2.cancel.InterruptibleTask)">
<h3>doAsCancelable</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="type-parameters">&lt;ResultType&gt;</span>&nbsp;<span class="return-type">ResultType</span>&nbsp;<span class="element-name">doAsCancelable</span><wbr><span class="parameters">(<a href="CancellationToken.html" title="interface in org.jtrim2.cancel">CancellationToken</a>&nbsp;cancelToken,
 <a href="InterruptibleTask.html" title="interface in org.jtrim2.cancel">InterruptibleTask</a>&lt;ResultType&gt;&nbsp;task)</span></div>
<div class="block">Executes the specified task on the current thread synchronously and
 interrupts the current thread if the specified <a href="CancellationToken.html" title="interface in org.jtrim2.cancel"><code>CancellationToken</code></a>
 signals a cancellation request. The <code>InterruptedException</code> thrown
 by the specified task is treated as if the task has been canceled. That
 is, <code>InterruptedException</code> thrown by the task is converted to
 <a href="OperationCanceledException.html" title="class in org.jtrim2.cancel"><code>OperationCanceledException</code></a>; any other exception is simply
 propagated to the caller as it was thrown by the task.
 <P>
 Note that this may cause the current thread to be interrupted without
 throwing any exception if the underlying task does not detect the
 thread interruption. The thread interrupted status will not be cleared
 even if it was caused by a cancellation request because there is no way
 to detect if outside code has also interrupted the current thread.
 <P>
 This method is intended to be used to convert code which uses thread
 interruption for cancellation to the more robust cancellation mechanism
 provided by <I>JTrim</I>.</div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>ResultType</code> - the type of the result of the task to be executed</dd>
<dt>Parameters:</dt>
<dd><code>cancelToken</code> - the <code>CancellationToken</code> which when signals
   causes the current thread to be interrupted. This argument will also be
   passed to the task to be executed. This argument cannot be <code>null</code>.</dd>
<dd><code>task</code> - the task to be executed. This argument cannot be
   <code>null</code>.</dd>
<dt>Returns:</dt>
<dd>the return value of the specified task. This value is exactly the
   same object as the one returned by the task and so if the task returns
   <code>null</code>, this method may also returns <code>null</code>.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html" title="class or interface in java.lang" class="external-link">NullPointerException</a></code> - thrown if any of the arguments is
   <code>null</code></dd>
<dd><code><a href="OperationCanceledException.html" title="class in org.jtrim2.cancel">OperationCanceledException</a></code> - thrown if the underlying task thrown
   an <code>OperationCanceledException</code> or an
   <code>InterruptedException</code>. Note that the current thread will no be
   re-interrupted if the specified task throws an
   <code>InterruptedException</code>.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
