<!DOCTYPE HTML>
<html lang="hu">
<head>
<!-- Generated by javadoc (17) -->
<title>PropertySource (jtrim-property 2.0.6 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: org.jtrim2.property, interface: PropertySource">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.jtrim2.property</a></div>
<h1 title="Interface PropertySource" class="title">Interface PropertySource&lt;ValueType&gt;</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>ValueType</code> - the type of the value of the property</dd>
</dl>
<dl class="notes">
<dt>All Known Subinterfaces:</dt>
<dd><code><a href="MutableProperty.html" title="interface in org.jtrim2.property">MutableProperty</a>&lt;ValueType&gt;</code>, <code><a href="MutablePropertyProxy.html" title="interface in org.jtrim2.property">MutablePropertyProxy</a>&lt;ValueType&gt;</code>, <code><a href="PropertySourceProxy.html" title="interface in org.jtrim2.property">PropertySourceProxy</a>&lt;ValueType&gt;</code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">PropertySource&lt;ValueType&gt;</span></div>
<div class="block">Defines the value of an arbitrary property. The value of this property might
 change in an implementation dependent way. Some property might be changed by
 client code, some might change due to external (and uncontrollable) events.
 <P>
 For example, the value of the property can be derived from the content of a
 file and might get updated after the content of that file changes.
 <P>
 <B>Concurrency warning</B>: Although reading the properties is defined to be
 "thread-safe", reading a single property concurrently is dangerous, unless
 the two threads are completely independent of each other. For example,
 consider the following scenario: Two threads read the same property and
 they overwrite each other's result. See the following example code
 <pre><code>
 PropertySource&lt;Boolean&gt; property = ...;


 Thread1:
   if (property.getValue()) {
     x = 1;
   }

 Thread2:
   if (!property.getValue()) {
     x = 2;
   }
 </code></pre>
 You might expect in the above code, that if <code>property.getValue()</code>
 becomes and remains <code>true</code>, <code>x</code> will eventually be 1. However,
 this is not the case because if the property was <code>false</code> before,
 Thread2 might have already noticed it to be <code>false</code>, if after this the
 property is quickly set to <code>true</code> and Thread1 also completes quickly,
 Thread2 might continue after them setting <code>x</code> to 2.
 <P>
 To avoid the above problem, you may read the property value from a
 <a href="#addChangeListener(java.lang.Runnable)"><code>change listener</code></a> because the listeners
 may not be called concurrently, so reads won't be concurrent.

 <h2>Thread safety</h2>
 Instances of this interface are required to be completely thread-safe
 without any further synchronization.

 <h3>Synchronization transparency</h3>
 Methods of this interface are required to be
 <I>synchronization transparent</I> and may be called from any context.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="PropertyFactory.html#constSource(ValueType)"><code>PropertyFactory.constSource</code></a></li>
<li><a href="PropertyFactory.html#memProperty(ValueType,org.jtrim2.property.PropertyVerifier,org.jtrim2.property.PropertyPublisher)"><code>PropertyFactory.memProperty</code></a></li>
<li><a href="PropertySourceProxy.html" title="interface in org.jtrim2.property"><code>PropertySourceProxy</code></a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://www.javadoc.io/doc/org.jtrim2/jtrim-concurrent/2.0.6/org/jtrim2/event/ListenerRef.html" title="class or interface in org.jtrim2.event" class="external-link">ListenerRef</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#addChangeListener(java.lang.Runnable)" class="member-name-link">addChangeListener</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a>&nbsp;listener)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Registers a listener to be notified after the value of this property
 changes.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="PropertySource.html" title="type parameter in PropertySource">ValueType</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getValue()" class="member-name-link">getValue</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns the current value of this property.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getValue()">
<h3>getValue</h3>
<div class="member-signature"><span class="return-type"><a href="PropertySource.html" title="type parameter in PropertySource">ValueType</a></span>&nbsp;<span class="element-name">getValue</span>()</div>
<div class="block">Returns the current value of this property. Implementations of this
 method must not do any expensive computations or otherwise block. That
 is, this method might be called from threads where responsiveness is
 necessary, such as the <I>AWT Event Dispatch Thread</I>.
 <P>
 Implementation note:
 Implementations are recommended to only return the value of a
 <code>volatile</code> field (and possibly make defensive copy of the value).
 If the property is read from some other sources then a separate thread
 should read the value and update the volatile field.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the current value of this property. This method may return
   <code>null</code> if the implementation allows <code>null</code> values for a
   property.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addChangeListener(java.lang.Runnable)">
<h3>addChangeListener</h3>
<div class="member-signature"><span class="return-type"><a href="https://www.javadoc.io/doc/org.jtrim2/jtrim-concurrent/2.0.6/org/jtrim2/event/ListenerRef.html" title="class or interface in org.jtrim2.event" class="external-link">ListenerRef</a></span>&nbsp;<span class="element-name">addChangeListener</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Runnable.html" title="class or interface in java.lang" class="external-link">Runnable</a>&nbsp;listener)</span></div>
<div class="block">Registers a listener to be notified after the value of this property
 changes. In what context the listener is called is implementation
 dependent.
 <P>
 Once a listener is notified, it needs to get the current value of this
 property by calling the <a href="#getValue()"><code>getValue()</code></a> method. Note that,
 it is allowed for implementations to notify the listener even if the
 property does not change. Also, implementations may merge listener
 notifications. That is, if a value is changed multiple times before it is
 notified, implementations may decide to only notify the listener once.
 <P>
 Note however, that listeners are not allowed to be called concurrently.
 That is, listeners registered to a particular <code>PropertySource</code>
 are not allowed to run concurrently with each other. This maybe achieved
 in several ways: For example, <a href="MutableProperty.html" title="interface in org.jtrim2.property"><code>MutableProperty</code></a> does not allow its
 <a href="MutableProperty.html#setValue(ValueType)"><code>setValue</code></a> method to be called
 concurrently (in general) and if (as usual) it notified listeners in the
 <code>setValue</code> method, the listeners won't be notified concurrently.
 That is, if they area, then the client code is at fault for calling
 <code>setValue</code> concurrently.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>listener</code> - the listener whose <code>run()</code> method is to be called
   whenever the value of this property changes. This argument cannot be
   <code>null</code>.</dd>
<dt>Returns:</dt>
<dd>the <code>ListenerRef</code> which can be used to unregister the
   currently added listener, so that it will no longer be notified of
   subsequent changes. This method may never return <code>null</code>.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
