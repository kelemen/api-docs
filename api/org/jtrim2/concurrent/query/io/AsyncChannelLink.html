<!DOCTYPE HTML>
<html lang="hu">
<head>
<!-- Generated by javadoc (17) -->
<title>AsyncChannelLink (JTrim 2.0.5 - All modules)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: org.jtrim2.concurrent.query.io, class: AsyncChannelLink">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.jtrim2.concurrent.query.io</a></div>
<h1 title="Class AsyncChannelLink" class="title">Class AsyncChannelLink&lt;DataType&gt;</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">org.jtrim2.concurrent.query.io.AsyncChannelLink&lt;DataType&gt;</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>DataType</code> - the type of data to be provided by this
   <code>AsyncDataLink</code></dd>
</dl>
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="../AsyncDataLink.html" title="interface in org.jtrim2.concurrent.query">AsyncDataLink</a>&lt;DataType&gt;</code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public final class </span><span class="element-name type-name-label">AsyncChannelLink&lt;DataType&gt;</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="../AsyncDataLink.html" title="interface in org.jtrim2.concurrent.query">AsyncDataLink</a>&lt;DataType&gt;</span></div>
<div class="block">Defines an <code>AsyncDataLink</code> which allows to read an arbitrary
 <a href="https://docs.oracle.com/javase/8/docs/api/java/nio/channels/Channel.html" title="class or interface in java.nio.channels" class="external-link"><code>Channel</code></a> and process its content to be provided as asynchronously.
 <P>
 The implementations relies on two executors, namely:
 <code>processorExecutor</code> and <code>cancelExecutor</code>. When the data is
 requested from <code>AsyncChannelLink</code> it will submit a task to
 <code>processorExecutor</code> which will actually
 <a href="ChannelOpener.html#openChanel()"><code>open</code></a> a new channel which is then
 <a href="ChannelProcessor.html#processChannel(ChannelType,org.jtrim2.concurrent.query.AsyncDataListener,org.jtrim2.concurrent.query.io.ChannelProcessor.StateListener)"><code>processed</code></a>
 in the same task. In this task will the <a href="../AsyncDataListener.html" title="interface in org.jtrim2.concurrent.query"><code>AsyncDataListener</code></a> be notified
 of the data to be provided.
 <P>
 When a data retrieval request is canceled through the returned
 <a href="../AsyncDataController.html" title="interface in org.jtrim2.concurrent.query"><code>AsyncDataController</code></a>, the basic action taken is to cancel the task
 submitted to the <code>processorExecutor</code> and if the task has not yet been
 started processing the channel, it will be canceled without actually starting
 to process it. When however, the opened channel implements the
 <a href="https://docs.oracle.com/javase/8/docs/api/java/nio/channels/InterruptibleChannel.html" title="class or interface in java.nio.channels" class="external-link"><code>InterruptibleChannel</code></a>, it will even be asynchronously closed, so reads
 while processing the channel will cause <a href="https://docs.oracle.com/javase/8/docs/api/java/nio/channels/ClosedChannelException.html" title="class or interface in java.nio.channels" class="external-link"><code>ClosedChannelException</code></a> to be
 thrown which is interpreted as a cancellation. Since closing the channel
 might be an external call, it is actually done in a task submitted to
 <code>cancelExecutor</code>.
 <P>
 Note that although actual canceling of the processing of a channel may take
 some time, the <code>AsyncChannelLink</code> listening for the data will see as
 if requesting a cancel request is almost instantaneous regardless how long
 actually the canceling takes.

 <h2>Thread safety</h2>
 As required by <code>AsyncDataLink</code>, methods of this class are safe to be
 accessed by multiple threads concurrently.

 <h3>Synchronization transparency</h3>
 The methods of this class are not <I>synchronization transparent</I>.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="ChannelOpener.html" title="interface in org.jtrim2.concurrent.query.io"><code>ChannelOpener</code></a></li>
<li><a href="ChannelProcessor.html" title="interface in org.jtrim2.concurrent.query.io"><code>ChannelProcessor</code></a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(org.jtrim2.executor.TaskExecutor,org.jtrim2.executor.TaskExecutor,org.jtrim2.concurrent.query.io.ChannelOpener,org.jtrim2.concurrent.query.io.ChannelProcessor)" class="member-name-link">AsyncChannelLink</a><wbr>(<a href="../../../executor/TaskExecutor.html" title="interface in org.jtrim2.executor">TaskExecutor</a>&nbsp;processorExecutor,
 <a href="../../../executor/TaskExecutor.html" title="interface in org.jtrim2.executor">TaskExecutor</a>&nbsp;cancelExecutor,
 <a href="ChannelOpener.html" title="interface in org.jtrim2.concurrent.query.io">ChannelOpener</a>&lt;? extends ChannelType&gt;&nbsp;channelOpener,
 <a href="ChannelProcessor.html" title="interface in org.jtrim2.concurrent.query.io">ChannelProcessor</a>&lt;? extends <a href="AsyncChannelLink.html" title="type parameter in AsyncChannelLink">DataType</a>,<wbr>ChannelType&gt;&nbsp;channelProcessor)</code></div>
<div class="col-last even-row-color">
<div class="block">Creates a new <code>AsyncChannelLink</code> with the specified executors,
 <code>ChannelOpener</code> and <code>ChannelProcessor</code>.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../AsyncDataController.html" title="interface in org.jtrim2.concurrent.query">AsyncDataController</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getData(org.jtrim2.cancel.CancellationToken,org.jtrim2.concurrent.query.AsyncDataListener)" class="member-name-link">getData</a><wbr>(<a href="../../../cancel/CancellationToken.html" title="interface in org.jtrim2.cancel">CancellationToken</a>&nbsp;cancelToken,
 <a href="../AsyncDataListener.html" title="interface in org.jtrim2.concurrent.query">AsyncDataListener</a>&lt;? super <a href="AsyncChannelLink.html" title="type parameter in AsyncChannelLink">DataType</a>&gt;&nbsp;dataListener)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Starts retrieving the data which is linked to this <code>AsyncDataLink</code>.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(org.jtrim2.executor.TaskExecutor,org.jtrim2.executor.TaskExecutor,org.jtrim2.concurrent.query.io.ChannelOpener,org.jtrim2.concurrent.query.io.ChannelProcessor)">
<h3>AsyncChannelLink</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">AsyncChannelLink</span><wbr><span class="parameters">(<a href="../../../executor/TaskExecutor.html" title="interface in org.jtrim2.executor">TaskExecutor</a>&nbsp;processorExecutor,
 <a href="../../../executor/TaskExecutor.html" title="interface in org.jtrim2.executor">TaskExecutor</a>&nbsp;cancelExecutor,
 <a href="ChannelOpener.html" title="interface in org.jtrim2.concurrent.query.io">ChannelOpener</a>&lt;? extends ChannelType&gt;&nbsp;channelOpener,
 <a href="ChannelProcessor.html" title="interface in org.jtrim2.concurrent.query.io">ChannelProcessor</a>&lt;? extends <a href="AsyncChannelLink.html" title="type parameter in AsyncChannelLink">DataType</a>,<wbr>ChannelType&gt;&nbsp;channelProcessor)</span></div>
<div class="block">Creates a new <code>AsyncChannelLink</code> with the specified executors,
 <code>ChannelOpener</code> and <code>ChannelProcessor</code>.</div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>ChannelType</code> - the type of the channel to be opened by the
   <code>channelOpener</code> and then processed by <code>channelProcessor</code></dd>
<dt>Parameters:</dt>
<dd><code>processorExecutor</code> - the executor to which tasks will be submitted
   to process a channel opened by <code>channelOpener</code>. This argument
   may not be <code>null</code>.</dd>
<dd><code>cancelExecutor</code> - the executor to which tasks will be submitted to
   asynchronously close channels if the request for processing it has been
   canceled. This executor can be the same as <code>processorExecutor</code>,
   note however that in this case, the processing of the channel may
   block the task which is submitted to cancel it (by closing the
   channel). This argument cannot be <code>null</code>.</dd>
<dd><code>channelOpener</code> - the <code>ChannelOpener</code> which must open a new
   channel to be processed by <code>channelProcessor</code>. The
   <code>ChannelOpener</code> must always open a channel to the same source
   (e.g.: with files, to the same file) to preserve the contract of the
   <code>AsyncDataLink</code>. This argument cannot be <code>null</code>.</dd>
<dd><code>channelProcessor</code> - the <code>ChannelProcessor</code> which must process
   open channels and forward the data it reads from it to the
   <code>AsyncDataLink</code>. This argument cannot be <code>null</code>.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html" title="class or interface in java.lang" class="external-link">NullPointerException</a></code> - thrown if any of the arguments is
   <code>null</code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getData(org.jtrim2.cancel.CancellationToken,org.jtrim2.concurrent.query.AsyncDataListener)">
<h3>getData</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../AsyncDataController.html" title="interface in org.jtrim2.concurrent.query">AsyncDataController</a></span>&nbsp;<span class="element-name">getData</span><wbr><span class="parameters">(<a href="../../../cancel/CancellationToken.html" title="interface in org.jtrim2.cancel">CancellationToken</a>&nbsp;cancelToken,
 <a href="../AsyncDataListener.html" title="interface in org.jtrim2.concurrent.query">AsyncDataListener</a>&lt;? super <a href="AsyncChannelLink.html" title="type parameter in AsyncChannelLink">DataType</a>&gt;&nbsp;dataListener)</span></div>
<div class="block">Starts retrieving the data which is linked to this <code>AsyncDataLink</code>.
 The data will be forwarded to the specified listener usually
 asynchronously on a separate thread. Note however that this method may
 also forward the data synchronously on the current thread to the listener
 if it is readily available and does not need some expensive operation to
 load.
 <P>
 Once this method has been called successfully, the
 <a href="../AsyncDataListener.html#onDoneReceive(org.jtrim2.concurrent.query.AsyncReport)"><code>onDoneReceive</code></a> method
 of the listener must be called eventually regardless what happens.
 Failing to call this method is a serious failure of the
 <code>AsyncDataLink</code> implementation.
 <P>
 <B>Implementation note</B>: The
 <a href="../AsyncDataController.html#getDataState()"><code>state of progress</code></a> of the data
 retrieval process can possibly be a different type of object than the one
 provided by the <a href="ChannelProcessor.html" title="interface in org.jtrim2.concurrent.query.io"><code>channel processor</code></a>.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../AsyncDataLink.html#getData(org.jtrim2.cancel.CancellationToken,org.jtrim2.concurrent.query.AsyncDataListener)">getData</a></code>&nbsp;in interface&nbsp;<code><a href="../AsyncDataLink.html" title="interface in org.jtrim2.concurrent.query">AsyncDataLink</a>&lt;<a href="AsyncChannelLink.html" title="type parameter in AsyncChannelLink">DataType</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>cancelToken</code> - the <code>CancellationToken</code> signaling if the data
   retrieval process need to be canceled. Implementations may ignore
   cancellation requests but they should cancel the data retrieval and
   call the <code>onDoneReceive</code> method of the listener, signaling that
   the data retrieval cannot be completed due to cancellation. This
   argument cannot be <code>null</code>.</dd>
<dd><code>dataListener</code> - the listener to which the data is to be forwarded.
   This argument cannot be <code>null</code>.</dd>
<dt>Returns:</dt>
<dd>the <code>AsyncDataController</code> which can be used to
   control the way it is being loaded and request the progress of the
   data retrieving process. This method must never return <code>null</code>.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
