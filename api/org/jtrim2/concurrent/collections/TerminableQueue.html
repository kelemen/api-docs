<!DOCTYPE HTML>
<html lang="hu">
<head>
<!-- Generated by javadoc (17) -->
<title>TerminableQueue (jtrim-concurrent 2.0.6 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: org.jtrim2.concurrent.collections, interface: TerminableQueue">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.jtrim2.concurrent.collections</a></div>
<h1 title="Interface TerminableQueue" class="title">Interface TerminableQueue&lt;T&gt;</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>T</code> - the type of the elements of the queue</dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">TerminableQueue&lt;T&gt;</span></div>
<div class="block">Defines a simple queue which can be stopped from accepting any new elements. Unlike
 traditional blocking queues, you can easily prevent <code>put</code> and <code>take</code> calls
 from waiting forever in case one side goes away.
 <P>
 Aside from being terminable, <code>TerminableQueue</code> also support removing elements
 from the queue without immediately allowing new elements to be added to queue instead
 of it (assuming the queue limits the number elements or has some other limitation on when
 an element can be added to it).
 <P>
 The ordering of the queue is completely independent.
 <P>
 Implementations of this queue may not support <code>null</code> elements.

 <h2>Thread safety</h2>
 Implementations of this interface are required to be safely accessible from multiple threads
 concurrently.

 <h3>Synchronization transparency</h3>
 The methods of this interface are not in general <I>synchronization transparent</I>,
 because they are explicitly wait for each other. So, extra care needs to be taken
 when synchronizing them, considering the actual implementation.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="TerminableQueues.html" title="class in org.jtrim2.concurrent.collections"><code>TerminableQueues</code></a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button><button id="method-summary-table-tab5" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab5', 3)" class="table-tab">Default Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#clear()" class="member-name-link">clear</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Removes all the elements from this queue.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#offer(T)" class="member-name-link">offer</a><wbr>(<a href="TerminableQueue.html" title="type parameter in TerminableQueue">T</a>&nbsp;entry)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Adds an element to this queue if possible, or returns <code>false</code> if the queue
 does not accept the new element this time.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#put(org.jtrim2.cancel.CancellationToken,T)" class="member-name-link">put</a><wbr>(<a href="../../cancel/CancellationToken.html" title="interface in org.jtrim2.cancel">CancellationToken</a>&nbsp;cancelToken,
 <a href="TerminableQueue.html" title="type parameter in TerminableQueue">T</a>&nbsp;entry)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Adds an element to this queue waiting if necessary.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#put(org.jtrim2.cancel.CancellationToken,T,long,java.util.concurrent.TimeUnit)" class="member-name-link">put</a><wbr>(<a href="../../cancel/CancellationToken.html" title="interface in org.jtrim2.cancel">CancellationToken</a>&nbsp;cancelToken,
 <a href="TerminableQueue.html" title="type parameter in TerminableQueue">T</a>&nbsp;entry,
 long&nbsp;timeout,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeUnit.html" title="class or interface in java.util.concurrent" class="external-link">TimeUnit</a>&nbsp;timeoutUnit)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Adds an element to this queue waiting if necessary.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#shutdown()" class="member-name-link">shutdown</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Prevents new elements to be added to this queue, but keeps the already added elements.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#shutdownAndTryWaitUntilEmpty(org.jtrim2.cancel.CancellationToken,long,java.util.concurrent.TimeUnit)" class="member-name-link">shutdownAndTryWaitUntilEmpty</a><wbr>(<a href="../../cancel/CancellationToken.html" title="interface in org.jtrim2.cancel">CancellationToken</a>&nbsp;cancelToken,
 long&nbsp;timeout,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeUnit.html" title="class or interface in java.util.concurrent" class="external-link">TimeUnit</a>&nbsp;timeoutUnit)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Prevents new elements to be added to this queue, and waits until no more elements are remaining
 in this queue or the given timeout expires.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#shutdownAndWaitUntilEmpty(org.jtrim2.cancel.CancellationToken)" class="member-name-link">shutdownAndWaitUntilEmpty</a><wbr>(<a href="../../cancel/CancellationToken.html" title="interface in org.jtrim2.cancel">CancellationToken</a>&nbsp;cancelToken)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Prevents new elements to be added to this queue, and waits until no more elements are remaining
 in this queue.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="TerminableQueue.html" title="type parameter in TerminableQueue">T</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#take(org.jtrim2.cancel.CancellationToken)" class="member-name-link">take</a><wbr>(<a href="../../cancel/CancellationToken.html" title="interface in org.jtrim2.cancel">CancellationToken</a>&nbsp;cancelToken)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Removes the current head of the queue and returns it waits until it becomes available if the queue is
 currently empty.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="https://www.javadoc.io/doc/org.jtrim2/jtrim-collections/2.0.6/org/jtrim2/collections/ReservedElementRef.html" title="class or interface in org.jtrim2.collections" class="external-link">ReservedElementRef</a>&lt;<a href="TerminableQueue.html" title="type parameter in TerminableQueue">T</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#takeButKeepReserved(org.jtrim2.cancel.CancellationToken)" class="member-name-link">takeButKeepReserved</a><wbr>(<a href="../../cancel/CancellationToken.html" title="interface in org.jtrim2.cancel">CancellationToken</a>&nbsp;cancelToken)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Removes the current head of the queue and returns it waits until it becomes available if the queue is
 currently empty, but keeps reserving the space for the removed element until the returned element is
 <a href="https://www.javadoc.io/doc/org.jtrim2/jtrim-collections/2.0.6/org/jtrim2/collections/ReservedElementRef.html#release()" title="class or interface in org.jtrim2.collections" class="external-link"><code>released</code></a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="TerminableQueue.html" title="type parameter in TerminableQueue">T</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#tryTake()" class="member-name-link">tryTake</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Removes the current head of the queue and returns it, or returns <code>null</code> if the queue is currently empty.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="TerminableQueue.html" title="type parameter in TerminableQueue">T</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#tryTake(org.jtrim2.cancel.CancellationToken,long,java.util.concurrent.TimeUnit)" class="member-name-link">tryTake</a><wbr>(<a href="../../cancel/CancellationToken.html" title="interface in org.jtrim2.cancel">CancellationToken</a>&nbsp;cancelToken,
 long&nbsp;timeout,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeUnit.html" title="class or interface in java.util.concurrent" class="external-link">TimeUnit</a>&nbsp;timeoutUnit)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Removes the current head of the queue and returns it waiting the given timeout if the queue is currently empty.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="https://www.javadoc.io/doc/org.jtrim2/jtrim-collections/2.0.6/org/jtrim2/collections/ReservedElementRef.html" title="class or interface in org.jtrim2.collections" class="external-link">ReservedElementRef</a>&lt;<a href="TerminableQueue.html" title="type parameter in TerminableQueue">T</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#tryTakeButKeepReserved()" class="member-name-link">tryTakeButKeepReserved</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Removes the current head of the queue and returns it, but keeps reserving the space
 for the removed element until the returned element is <a href="https://www.javadoc.io/doc/org.jtrim2/jtrim-collections/2.0.6/org/jtrim2/collections/ReservedElementRef.html#release()" title="class or interface in org.jtrim2.collections" class="external-link"><code>released</code></a>;
 or returns <code>null</code> if the queue is currently empty.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://www.javadoc.io/doc/org.jtrim2/jtrim-collections/2.0.6/org/jtrim2/collections/ReservedElementRef.html" title="class or interface in org.jtrim2.collections" class="external-link">ReservedElementRef</a>&lt;<a href="TerminableQueue.html" title="type parameter in TerminableQueue">T</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#tryTakeButKeepReserved(org.jtrim2.cancel.CancellationToken,long,java.util.concurrent.TimeUnit)" class="member-name-link">tryTakeButKeepReserved</a><wbr>(<a href="../../cancel/CancellationToken.html" title="interface in org.jtrim2.cancel">CancellationToken</a>&nbsp;cancelToken,
 long&nbsp;timeout,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeUnit.html" title="class or interface in java.util.concurrent" class="external-link">TimeUnit</a>&nbsp;timeoutUnit)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Removes the current head of the queue and returns it waiting the given the time if necessary,
 but keeps reserving the space for the removed element until the returned element is
 <a href="https://www.javadoc.io/doc/org.jtrim2/jtrim-collections/2.0.6/org/jtrim2/collections/ReservedElementRef.html#release()" title="class or interface in org.jtrim2.collections" class="external-link"><code>released</code></a>; or returns <code>null</code> if the timeout elapses
 before any element could have been retrieved.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="put(org.jtrim2.cancel.CancellationToken,T)">
<h3 id="put(org.jtrim2.cancel.CancellationToken,java.lang.Object)">put</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">put</span><wbr><span class="parameters">(<a href="../../cancel/CancellationToken.html" title="interface in org.jtrim2.cancel">CancellationToken</a>&nbsp;cancelToken,
 <a href="TerminableQueue.html" title="type parameter in TerminableQueue">T</a>&nbsp;entry)</span>
  throws <span class="exceptions"><a href="TerminatedQueueException.html" title="class in org.jtrim2.concurrent.collections">TerminatedQueueException</a></span></div>
<div class="block">Adds an element to this queue waiting if necessary. This method will wait
 until any of the following conditions are met:
 <ul>
  <li>The given element is added to this queue.</li>
  <li>
   The given <code>cancelToken</code> signals cancellation before the element could
   have been added/
  </li>
  <li>This queue was shut down.</li>
 </ul></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>cancelToken</code> - the <code>CancellationToken</code> which is checked if the wait should
   be abandoned. It is guaranteed, that if cancellation was requested, then this method
   will not wait forever. However, there is no stronger guarantee on the timeliness
   of the cancellation. This argument cannot be cannot be <code>null</code>.</dd>
<dd><code>entry</code> - the new element to be added to this queue. This argument cannot be
   <code>null</code>.</dd>
<dt>Throws:</dt>
<dd><code><a href="TerminatedQueueException.html" title="class in org.jtrim2.concurrent.collections">TerminatedQueueException</a></code> - thrown if adding the element was canceled, because
   this queue was shut down. If this exception is thrown, then it is guaranteed that the
   entry was not added to this queue.</dd>
<dd><code><a href="../../cancel/OperationCanceledException.html" title="class in org.jtrim2.cancel">OperationCanceledException</a></code> - thrown if cancellation request
   was detected before the element could have been added to this queue. If this exception
   is thrown, then it is guaranteed that the entry was not added to this queue. Note however
   that there is no guarantee that this exception is thrown even if the token was canceled before
   calling this method.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="put(org.jtrim2.cancel.CancellationToken,T,long,java.util.concurrent.TimeUnit)">
<h3 id="put(org.jtrim2.cancel.CancellationToken,java.lang.Object,long,java.util.concurrent.TimeUnit)">put</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">put</span><wbr><span class="parameters">(<a href="../../cancel/CancellationToken.html" title="interface in org.jtrim2.cancel">CancellationToken</a>&nbsp;cancelToken,
 <a href="TerminableQueue.html" title="type parameter in TerminableQueue">T</a>&nbsp;entry,
 long&nbsp;timeout,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeUnit.html" title="class or interface in java.util.concurrent" class="external-link">TimeUnit</a>&nbsp;timeoutUnit)</span>
     throws <span class="exceptions"><a href="TerminatedQueueException.html" title="class in org.jtrim2.concurrent.collections">TerminatedQueueException</a></span></div>
<div class="block">Adds an element to this queue waiting if necessary. This method will wait
 until any of the following conditions are met:
 <ul>
  <li>The given element is added to this queue.</li>
  <li>
   The given timeout was reached before the element could have been added.
  </li>
  <li>
   The given <code>cancelToken</code> signals cancellation before the element could
   have been added.
  </li>
  <li>This queue was shut down.</li>
 </ul>
 <P>
 Note: If the element can be added right away without waiting, then it will be added
 regardless how low the timeout is. That is, there is no risk of failing due to timeout
 compared to the <a href="#offer(T)"><code>offer</code></a> method.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>cancelToken</code> - the <code>CancellationToken</code> which is checked if the wait should
   be abandoned. It is guaranteed, that if cancellation was requested, then this method
   will not wait forever. However, there is no stronger guarantee on the timeliness
   of the cancellation. This argument cannot be cannot be <code>null</code>.</dd>
<dd><code>entry</code> - the new element to be added to this queue. This argument cannot be
   <code>null</code>.</dd>
<dd><code>timeout</code> - the maximum time to wait in the given time unit to add the given
   element to the queue. A best effort is made to honor the given timeout, but there
   is no strong guarantee on the accuracy. This argument must be greater than or
   equal to zero.</dd>
<dd><code>timeoutUnit</code> - the time unit in which the <code>timeout</code> argument is to be
   interpreted. This argument cannot be <code>null</code>.</dd>
<dt>Returns:</dt>
<dd><code>true</code> if the element was added to this queue, <code>false</code> if
   the given timeout elapsed before it could have been added.</dd>
<dt>Throws:</dt>
<dd><code><a href="TerminatedQueueException.html" title="class in org.jtrim2.concurrent.collections">TerminatedQueueException</a></code> - thrown if adding the element was canceled, because
   this queue was shut down. If this exception is thrown, then it is guaranteed that the
   entry was not added to this queue.</dd>
<dd><code><a href="../../cancel/OperationCanceledException.html" title="class in org.jtrim2.cancel">OperationCanceledException</a></code> - thrown if cancellation request
   was detected before the element could have been added to this queue. If this exception
   is thrown, then it is guaranteed that the entry was not added to this queue. Note however
   that there is no guarantee that this exception is thrown even if the token was canceled before
   calling this method.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="offer(T)">
<h3 id="offer(java.lang.Object)">offer</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">offer</span><wbr><span class="parameters">(<a href="TerminableQueue.html" title="type parameter in TerminableQueue">T</a>&nbsp;entry)</span>
               throws <span class="exceptions"><a href="TerminatedQueueException.html" title="class in org.jtrim2.concurrent.collections">TerminatedQueueException</a></span></div>
<div class="block">Adds an element to this queue if possible, or returns <code>false</code> if the queue
 does not accept the new element this time. This method never blocks, if it can't
 add the element, then it returns immediately.
 <P>
 This method is <I>synchronization transparent</I>, therefore it can be used in
 any context safely.
 <P>
 <I>Default implementation</I>: The default implementation completely relies on the
 <a href="#put(org.jtrim2.cancel.CancellationToken,T,long,java.util.concurrent.TimeUnit)"><code>put(CancellationToken, T, long, TimeUnit)</code></a> method.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>entry</code> - the new element to be added to this queue. This argument cannot be
   <code>null</code>.</dd>
<dt>Returns:</dt>
<dd><code>true</code> if the element was successfully added, <code>false</code> if
   it was not added</dd>
<dt>Throws:</dt>
<dd><code><a href="TerminatedQueueException.html" title="class in org.jtrim2.concurrent.collections">TerminatedQueueException</a></code> - thrown if adding the element was canceled, because
   this queue was shut down. If this exception is thrown, then it is guaranteed that the
   entry was not added to this queue.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="tryTakeButKeepReserved(org.jtrim2.cancel.CancellationToken,long,java.util.concurrent.TimeUnit)">
<h3>tryTakeButKeepReserved</h3>
<div class="member-signature"><span class="return-type"><a href="https://www.javadoc.io/doc/org.jtrim2/jtrim-collections/2.0.6/org/jtrim2/collections/ReservedElementRef.html" title="class or interface in org.jtrim2.collections" class="external-link">ReservedElementRef</a>&lt;<a href="TerminableQueue.html" title="type parameter in TerminableQueue">T</a>&gt;</span>&nbsp;<span class="element-name">tryTakeButKeepReserved</span><wbr><span class="parameters">(<a href="../../cancel/CancellationToken.html" title="interface in org.jtrim2.cancel">CancellationToken</a>&nbsp;cancelToken,
 long&nbsp;timeout,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeUnit.html" title="class or interface in java.util.concurrent" class="external-link">TimeUnit</a>&nbsp;timeoutUnit)</span>
                                      throws <span class="exceptions"><a href="TerminatedQueueException.html" title="class in org.jtrim2.concurrent.collections">TerminatedQueueException</a></span></div>
<div class="block">Removes the current head of the queue and returns it waiting the given the time if necessary,
 but keeps reserving the space for the removed element until the returned element is
 <a href="https://www.javadoc.io/doc/org.jtrim2/jtrim-collections/2.0.6/org/jtrim2/collections/ReservedElementRef.html#release()" title="class or interface in org.jtrim2.collections" class="external-link"><code>released</code></a>; or returns <code>null</code> if the timeout elapses
 before any element could have been retrieved. That is, not releasing the returned will make attempting
 to add new elements to this queue, as if the element was not removed. However, removing a new
 element will return the next element, and won't return the currently returned element again.
 <P>
 This method will wait until any of the following conditions are met:
 <ul>
  <li>The head was removed from this queue.</li>
  <li>
   The given timeout was reached before the head could have been retrieved.
  </li>
  <li>
   The given <code>cancelToken</code> signals cancellation before the head could have
   been removed.
  </li>
  <li>This queue was shut down and no new elements will be allowed to be added to this list.</li>
 </ul>
 <P>
 Note: If the head is available right away without waiting, then it will be removed
 regardless how low the timeout is. That is, there is no risk of failing due to timeout
 compared to the <a href="#tryTakeButKeepReserved()"><code>tryTakeButKeepReserved()</code></a> method.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>cancelToken</code> - the <code>CancellationToken</code> which is checked if the wait should
   be abandoned. It is guaranteed, that if cancellation was requested, then this method
   will not wait forever. However, there is no stronger guarantee on the timeliness
   of the cancellation. This argument cannot be cannot be <code>null</code>.</dd>
<dd><code>timeout</code> - the maximum time to wait in the given time unit to remove the head of
   the queue. A best effort is made to honor the given timeout, but there is no strong
   guarantee on the accuracy. This argument must be greater than or equal to zero.</dd>
<dd><code>timeoutUnit</code> - the time unit in which the <code>timeout</code> argument is to be
   interpreted. This argument cannot be <code>null</code>.</dd>
<dt>Returns:</dt>
<dd>the reference to the now removed head of the queue, or <code>null</code> if the timeout elapsed
   before any element could have been removed</dd>
<dt>Throws:</dt>
<dd><code><a href="TerminatedQueueException.html" title="class in org.jtrim2.concurrent.collections">TerminatedQueueException</a></code> - thrown if this queue was shut down, and is empty. Throwing this
   exception guarantees that this queue is empty, and that it will stay empty forever. Note that this queue
   is empty only in the sense that no more elements can be removed from it. That is, there is no guarantee
   that all elements were already <a href="https://www.javadoc.io/doc/org.jtrim2/jtrim-collections/2.0.6/org/jtrim2/collections/ReservedElementRef.html#release()" title="class or interface in org.jtrim2.collections" class="external-link"><code>released</code></a>.</dd>
<dd><code><a href="../../cancel/OperationCanceledException.html" title="class in org.jtrim2.cancel">OperationCanceledException</a></code> - thrown if cancellation request
   was detected before an element could have been removed from this queue. If this exception
   is thrown, then it is guaranteed that this queue was not modified by this method. Note however that there
   is no guarantee that this exception is thrown even if the token was canceled before calling this method.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="tryTakeButKeepReserved()">
<h3>tryTakeButKeepReserved</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="https://www.javadoc.io/doc/org.jtrim2/jtrim-collections/2.0.6/org/jtrim2/collections/ReservedElementRef.html" title="class or interface in org.jtrim2.collections" class="external-link">ReservedElementRef</a>&lt;<a href="TerminableQueue.html" title="type parameter in TerminableQueue">T</a>&gt;</span>&nbsp;<span class="element-name">tryTakeButKeepReserved</span>()
                                              throws <span class="exceptions"><a href="TerminatedQueueException.html" title="class in org.jtrim2.concurrent.collections">TerminatedQueueException</a></span></div>
<div class="block">Removes the current head of the queue and returns it, but keeps reserving the space
 for the removed element until the returned element is <a href="https://www.javadoc.io/doc/org.jtrim2/jtrim-collections/2.0.6/org/jtrim2/collections/ReservedElementRef.html#release()" title="class or interface in org.jtrim2.collections" class="external-link"><code>released</code></a>;
 or returns <code>null</code> if the queue is currently empty. That is, not releasing the
 returned will make attempting to add new elements to this queue, as if the element was not removed.
 However, removing a new element will return the next element, and won't return the currently
 returned element again.
 <P>
 This method never blocks, and if the queue is currently empty, this method will returns immediately.
 <P>
 This method is <I>synchronization transparent</I>, therefore it can be used in
 any context safely.
 <P>
 <I>Default implementation</I>: The default implementation completely relies on the
 <a href="#tryTakeButKeepReserved(org.jtrim2.cancel.CancellationToken,long,java.util.concurrent.TimeUnit)"><code>tryTakeButKeepReserved(CancellationToken, long, TimeUnit)</code></a>
 method.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the reference to head of the queue, or <code>null</code> if this queue was empty</dd>
<dt>Throws:</dt>
<dd><code><a href="TerminatedQueueException.html" title="class in org.jtrim2.concurrent.collections">TerminatedQueueException</a></code> - thrown if this queue was shut down, and is empty. Throwing this
   exception guarantees that this queue is empty, and that it will stay empty forever. Note that this queue
   is empty only in the sense that no more elements can be removed from it. That is, there is no guarantee
   that all elements were already <a href="https://www.javadoc.io/doc/org.jtrim2/jtrim-collections/2.0.6/org/jtrim2/collections/ReservedElementRef.html#release()" title="class or interface in org.jtrim2.collections" class="external-link"><code>released</code></a>.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="tryTake()">
<h3>tryTake</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="TerminableQueue.html" title="type parameter in TerminableQueue">T</a></span>&nbsp;<span class="element-name">tryTake</span>()
           throws <span class="exceptions"><a href="TerminatedQueueException.html" title="class in org.jtrim2.concurrent.collections">TerminatedQueueException</a></span></div>
<div class="block">Removes the current head of the queue and returns it, or returns <code>null</code> if the queue is currently empty.
 This method method immediately releases the space the returned element takes up in the queue.
 <P>
 This method never blocks, and if the queue is currently empty, this method will returns immediately.
 <P>
 This method is <I>synchronization transparent</I>, therefore it can be used in
 any context safely.
 <P>
 <I>Default implementation</I>: The default implementation completely relies on the
 <a href="#tryTakeButKeepReserved()"><code>tryTakeButKeepReserved()</code></a> method.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the head element removed from this queue, or <code>null</code> if this queue was empty</dd>
<dt>Throws:</dt>
<dd><code><a href="TerminatedQueueException.html" title="class in org.jtrim2.concurrent.collections">TerminatedQueueException</a></code> - thrown if this queue was shut down, and is empty. Throwing this
   exception guarantees that this queue is empty, and that it will stay empty forever. Note that this queue
   is empty only in the sense that no more elements can be removed from it. That is, there is no guarantee
   that all elements were already <a href="https://www.javadoc.io/doc/org.jtrim2/jtrim-collections/2.0.6/org/jtrim2/collections/ReservedElementRef.html#release()" title="class or interface in org.jtrim2.collections" class="external-link"><code>released</code></a>.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="tryTake(org.jtrim2.cancel.CancellationToken,long,java.util.concurrent.TimeUnit)">
<h3>tryTake</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="TerminableQueue.html" title="type parameter in TerminableQueue">T</a></span>&nbsp;<span class="element-name">tryTake</span><wbr><span class="parameters">(<a href="../../cancel/CancellationToken.html" title="interface in org.jtrim2.cancel">CancellationToken</a>&nbsp;cancelToken,
 long&nbsp;timeout,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeUnit.html" title="class or interface in java.util.concurrent" class="external-link">TimeUnit</a>&nbsp;timeoutUnit)</span>
           throws <span class="exceptions"><a href="TerminatedQueueException.html" title="class in org.jtrim2.concurrent.collections">TerminatedQueueException</a></span></div>
<div class="block">Removes the current head of the queue and returns it waiting the given timeout if the queue is currently empty.
 If the queue is empty even after the specified timeout elapses, this method will return <code>null</code>.
 This method method immediately releases the space the returned element takes up in the queue.
 <P>
 This method will wait until any of the following conditions are met:
 <ul>
  <li>The head was removed from this queue.</li>
  <li>
   The given timeout was reached before the head could have been retrieved.
  </li>
  <li>
   The given <code>cancelToken</code> signals cancellation before the head could have
   been removed.
  </li>
  <li>This queue was shut down and no new elements will be allowed to be added to this list.</li>
 </ul>
 <P>
 <I>Default implementation</I>: The default implementation completely relies on the
 <a href="#tryTakeButKeepReserved(org.jtrim2.cancel.CancellationToken,long,java.util.concurrent.TimeUnit)"><code>tryTakeButKeepReserved(CancellationToken, long, TimeUnit)</code></a>
 method.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>cancelToken</code> - the <code>CancellationToken</code> which is checked if the wait should
   be abandoned. It is guaranteed, that if cancellation was requested, then this method
   will not wait forever. However, there is no stronger guarantee on the timeliness
   of the cancellation. This argument cannot be cannot be <code>null</code>.</dd>
<dd><code>timeout</code> - the maximum time to wait in the given time unit to remove the head of
   the queue. A best effort is made to honor the given timeout, but there is no strong
   guarantee on the accuracy. This argument must be greater than or equal to zero.</dd>
<dd><code>timeoutUnit</code> - the time unit in which the <code>timeout</code> argument is to be
   interpreted. This argument cannot be <code>null</code>.</dd>
<dt>Returns:</dt>
<dd>the head element removed from this queue, or <code>null</code> if this queue was empty and the given
   timeout elapsed</dd>
<dt>Throws:</dt>
<dd><code><a href="TerminatedQueueException.html" title="class in org.jtrim2.concurrent.collections">TerminatedQueueException</a></code> - thrown if this queue was shut down, and is empty. Throwing this
   exception guarantees that this queue is empty, and that it will stay empty forever. Note that this queue
   is empty only in the sense that no more elements can be removed from it. That is, there is no guarantee
   that all elements were already <a href="https://www.javadoc.io/doc/org.jtrim2/jtrim-collections/2.0.6/org/jtrim2/collections/ReservedElementRef.html#release()" title="class or interface in org.jtrim2.collections" class="external-link"><code>released</code></a>.</dd>
<dd><code><a href="../../cancel/OperationCanceledException.html" title="class in org.jtrim2.cancel">OperationCanceledException</a></code> - thrown if cancellation request
   was detected before an element could have been removed from this queue. If this exception
   is thrown, then it is guaranteed that this queue was not modified by this method. Note however that there
   is no guarantee that this exception is thrown even if the token was canceled before calling this method.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="takeButKeepReserved(org.jtrim2.cancel.CancellationToken)">
<h3>takeButKeepReserved</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="https://www.javadoc.io/doc/org.jtrim2/jtrim-collections/2.0.6/org/jtrim2/collections/ReservedElementRef.html" title="class or interface in org.jtrim2.collections" class="external-link">ReservedElementRef</a>&lt;<a href="TerminableQueue.html" title="type parameter in TerminableQueue">T</a>&gt;</span>&nbsp;<span class="element-name">takeButKeepReserved</span><wbr><span class="parameters">(<a href="../../cancel/CancellationToken.html" title="interface in org.jtrim2.cancel">CancellationToken</a>&nbsp;cancelToken)</span>
                                           throws <span class="exceptions"><a href="TerminatedQueueException.html" title="class in org.jtrim2.concurrent.collections">TerminatedQueueException</a></span></div>
<div class="block">Removes the current head of the queue and returns it waits until it becomes available if the queue is
 currently empty, but keeps reserving the space for the removed element until the returned element is
 <a href="https://www.javadoc.io/doc/org.jtrim2/jtrim-collections/2.0.6/org/jtrim2/collections/ReservedElementRef.html#release()" title="class or interface in org.jtrim2.collections" class="external-link"><code>released</code></a>. That is, not releasing the returned will make attempting
 to add new elements to this queue, as if the element was not removed. However, removing a new
 element will return the next element, and won't return the currently returned element again.
 <P>
 This method will wait until any of the following conditions are met:
 <ul>
  <li>The head was removed from this queue.</li>
  <li>
   The given <code>cancelToken</code> signals cancellation before the head could have
   been removed.
  </li>
  <li>This queue was shut down and no new elements will be allowed to be added to this list.</li>
 </ul>
 <P>
 <I>Default implementation</I>: The default implementation completely relies on the
 <a href="#tryTakeButKeepReserved(org.jtrim2.cancel.CancellationToken,long,java.util.concurrent.TimeUnit)"><code>tryTakeButKeepReserved(CancellationToken, long, TimeUnit)</code></a>
 method. That is, the default implementation loop on <code>tryTakeButKeepReserved</code>, until it returns
 a non-null object.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>cancelToken</code> - the <code>CancellationToken</code> which is checked if the wait should
   be abandoned. It is guaranteed, that if cancellation was requested, then this method
   will not wait forever. However, there is no stronger guarantee on the timeliness
   of the cancellation. This argument cannot be cannot be <code>null</code>.</dd>
<dt>Returns:</dt>
<dd>the reference to the now removed head of the queue. This method never returns <code>null</code>.</dd>
<dt>Throws:</dt>
<dd><code><a href="TerminatedQueueException.html" title="class in org.jtrim2.concurrent.collections">TerminatedQueueException</a></code> - thrown if this queue was shut down, and is empty. Throwing this
   exception guarantees that this queue is empty, and that it will stay empty forever. Note that this queue
   is empty only in the sense that no more elements can be removed from it. That is, there is no guarantee
   that all elements were already <a href="https://www.javadoc.io/doc/org.jtrim2/jtrim-collections/2.0.6/org/jtrim2/collections/ReservedElementRef.html#release()" title="class or interface in org.jtrim2.collections" class="external-link"><code>released</code></a>.</dd>
<dd><code><a href="../../cancel/OperationCanceledException.html" title="class in org.jtrim2.cancel">OperationCanceledException</a></code> - thrown if cancellation request
   was detected before an element could have been removed from this queue. If this exception
   is thrown, then it is guaranteed that this queue was not modified by this method. Note however that there
   is no guarantee that this exception is thrown even if the token was canceled before calling this method.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="take(org.jtrim2.cancel.CancellationToken)">
<h3>take</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="TerminableQueue.html" title="type parameter in TerminableQueue">T</a></span>&nbsp;<span class="element-name">take</span><wbr><span class="parameters">(<a href="../../cancel/CancellationToken.html" title="interface in org.jtrim2.cancel">CancellationToken</a>&nbsp;cancelToken)</span>
        throws <span class="exceptions"><a href="TerminatedQueueException.html" title="class in org.jtrim2.concurrent.collections">TerminatedQueueException</a></span></div>
<div class="block">Removes the current head of the queue and returns it waits until it becomes available if the queue is
 currently empty. This method method immediately releases the space the returned element takes up in the queue.
 <P>
 This method will wait until any of the following conditions are met:
 <ul>
  <li>The head was removed from this queue.</li>
  <li>
   The given <code>cancelToken</code> signals cancellation before the head could have
   been removed.
  </li>
  <li>This queue was shut down and no new elements will be allowed to be added to this list.</li>
 </ul>
 <P>
 <I>Default implementation</I>: The default implementation completely relies on the
 <a href="#takeButKeepReserved(org.jtrim2.cancel.CancellationToken)"><code>takeButKeepReserved(CancellationToken)</code></a>
 method.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>cancelToken</code> - the <code>CancellationToken</code> which is checked if the wait should
   be abandoned. It is guaranteed, that if cancellation was requested, then this method
   will not wait forever. However, there is no stronger guarantee on the timeliness
   of the cancellation. This argument cannot be cannot be <code>null</code>.</dd>
<dt>Returns:</dt>
<dd>the head element removed from this queue. This method never returns <code>null</code>.</dd>
<dt>Throws:</dt>
<dd><code><a href="TerminatedQueueException.html" title="class in org.jtrim2.concurrent.collections">TerminatedQueueException</a></code> - thrown if this queue was shut down, and is empty. Throwing this
   exception guarantees that this queue is empty, and that it will stay empty forever. Note that this queue
   is empty only in the sense that no more elements can be removed from it. That is, there is no guarantee
   that all elements were already <a href="https://www.javadoc.io/doc/org.jtrim2/jtrim-collections/2.0.6/org/jtrim2/collections/ReservedElementRef.html#release()" title="class or interface in org.jtrim2.collections" class="external-link"><code>released</code></a>.</dd>
<dd><code><a href="../../cancel/OperationCanceledException.html" title="class in org.jtrim2.cancel">OperationCanceledException</a></code> - thrown if cancellation request
   was detected before an element could have been removed from this queue. If this exception
   is thrown, then it is guaranteed that this queue was not modified by this method. Note however that there
   is no guarantee that this exception is thrown even if the token was canceled before calling this method.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="clear()">
<h3>clear</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">clear</span>()</div>
<div class="block">Removes all the elements from this queue. Note that reservations might still remain after this call.
 <P>
 <B>Note</B>: If for all element addition <I>happens-before</I> calling this <code>clear</code> method, then
 it is guaranteed that the queue is empty after the call. However, you can't have guarantee about the
 state of the queue.
 <P>
 The default implementation calls <a href="#tryTake()"><code>tryTake()</code></a> until it returns <code>null</code>
 or throws a <code>TerminatedQueueException</code>.</div>
</section>
</li>
<li>
<section class="detail" id="shutdown()">
<h3>shutdown</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">shutdown</span>()</div>
<div class="block">Prevents new elements to be added to this queue, but keeps the already added elements.
 If <code>shutdown</code> <I>happens-before</I> an element addition method to this queue, then
 adding the element is guaranteed to fail with a <code>TerminatedQueueException</code>. If there is
 no <I>happens-before</I> relationship between the <code>shutdown</code> call and the element addition call,
 then the element is either added to this queue or a <code>TerminatedQueueException</code> is thrown, but not both.
 <P>
 Note however, that already added element can still be removed from the queue as if this method has
 not been called until this queue becomes empty. Once this queue is empty, element removals will also
 keep failing with a <code>TerminatedQueueException</code>, meaning that the queue will remain entry from there on.
 In another words: If a <code>TerminatedQueueException</code> thrown by a method of this queue
 <I>happens-before</I> an attempt at removing or adding an element to this queue, then it is guaranteed
 that the attempted method call will also throw a <code>TerminatedQueueException</code>.
 <P>
 This method is idempotent. That is, calling it multiple times have the same effect as calling it once.</div>
</section>
</li>
<li>
<section class="detail" id="shutdownAndWaitUntilEmpty(org.jtrim2.cancel.CancellationToken)">
<h3>shutdownAndWaitUntilEmpty</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">shutdownAndWaitUntilEmpty</span><wbr><span class="parameters">(<a href="../../cancel/CancellationToken.html" title="interface in org.jtrim2.cancel">CancellationToken</a>&nbsp;cancelToken)</span></div>
<div class="block">Prevents new elements to be added to this queue, and waits until no more elements are remaining
 in this queue. This method waits until the elements are not just removed, but also
 <a href="https://www.javadoc.io/doc/org.jtrim2/jtrim-collections/2.0.6/org/jtrim2/collections/ReservedElementRef.html#release()" title="class or interface in org.jtrim2.collections" class="external-link"><code>released</code></a>. That is, this method call is not equivalent to
 calling <a href="#shutdown()"><code>shutdown</code></a> and then looping on <a href="#take(org.jtrim2.cancel.CancellationToken)"><code>take</code></a> until
 a <code>TerminatedQueueException</code> is thrown, because this method also waits for references to be
 released, while <code>TerminatedQueueException</code> is thrown when this queue will not have any more
 elements to be removed.
 <P>
 If this method returns normally, then it is guaranteed that a second attempt to call this method
 will return immediately.
 <P>
 Note: It is explicitly allowed to call <a href="#shutdown()"><code>shutdown</code></a> before this method.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>cancelToken</code> - the <code>CancellationToken</code> which is checked if the wait should
   be abandoned. It is guaranteed, that if cancellation was requested, then this method
   will not wait forever. However, there is no stronger guarantee on the timeliness</dd>
<dt>Throws:</dt>
<dd><code><a href="../../cancel/OperationCanceledException.html" title="class in org.jtrim2.cancel">OperationCanceledException</a></code> - thrown if cancellation request
   was detected. Note however that there is no guarantee that this exception is thrown
   even if the token was canceled before calling this method.</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#shutdown()"><code>shutdown</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="shutdownAndTryWaitUntilEmpty(org.jtrim2.cancel.CancellationToken,long,java.util.concurrent.TimeUnit)">
<h3>shutdownAndTryWaitUntilEmpty</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">shutdownAndTryWaitUntilEmpty</span><wbr><span class="parameters">(<a href="../../cancel/CancellationToken.html" title="interface in org.jtrim2.cancel">CancellationToken</a>&nbsp;cancelToken,
 long&nbsp;timeout,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeUnit.html" title="class or interface in java.util.concurrent" class="external-link">TimeUnit</a>&nbsp;timeoutUnit)</span></div>
<div class="block">Prevents new elements to be added to this queue, and waits until no more elements are remaining
 in this queue or the given timeout expires. This method waits until the elements are not just removed,
 but also <a href="https://www.javadoc.io/doc/org.jtrim2/jtrim-collections/2.0.6/org/jtrim2/collections/ReservedElementRef.html#release()" title="class or interface in org.jtrim2.collections" class="external-link"><code>released</code></a>. That is, this method call is not equivalent to
 calling <a href="#shutdown()"><code>shutdown</code></a> and then looping on <a href="#take(org.jtrim2.cancel.CancellationToken)"><code>take</code></a> until
 a <code>TerminatedQueueException</code> is thrown, because this method also waits for references to be
 released, while <code>TerminatedQueueException</code> is thrown when this queue will not have any more
 elements to be removed.
 <P>
 If this method returns <code>true</code>, then it is guaranteed that a second attempt to call this method
 will return immediately (returning <code>true</code>.
 <P>
 Note: It is explicitly allowed to call <a href="#shutdown()"><code>shutdown</code></a> before this method.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>cancelToken</code> - the <code>CancellationToken</code> which is checked if the wait should
   be abandoned. It is guaranteed, that if cancellation was requested, then this method
   will not wait forever. However, there is no stronger guarantee on the timeliness</dd>
<dd><code>timeout</code> - the maximum time to wait in the given time unit to wait for this queue to become empty.
   A best effort is made to honor the given timeout, but there is no strong guarantee on the accuracy.
   This argument must be greater than or equal to zero.</dd>
<dd><code>timeoutUnit</code> - the time unit in which the <code>timeout</code> argument is to be
   interpreted. This argument cannot be <code>null</code>.</dd>
<dt>Returns:</dt>
<dd><code>true</code> if this queue is now empty, <code>false</code> if
   the given timeout elapsed before this queue was detected to become empty.</dd>
<dt>Throws:</dt>
<dd><code><a href="../../cancel/OperationCanceledException.html" title="class in org.jtrim2.cancel">OperationCanceledException</a></code> - thrown if cancellation request
   was detected. Note however that there is no guarantee that this exception is thrown
   even if the token was canceled before calling this method.</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#shutdown()"><code>shutdown</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
