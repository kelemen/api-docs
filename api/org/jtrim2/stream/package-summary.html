<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="hu">
<head>
<!-- Generated by javadoc -->
<title>org.jtrim2.stream (JTrim 2.0.4 - All modules)</title>
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="org.jtrim2.stream (JTrim 2.0.4 - All modules)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/jtrim2/property/swing/package-summary.html">Prev&nbsp;Package</a></li>
<li><a href="../../../org/jtrim2/swing/component/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/jtrim2/stream/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 title="Package" class="title">Package&nbsp;org.jtrim2.stream</h1>
<div class="docSummary">
<div class="block">Contains classes and interfaces for synchronous stream processing.</div>
</div>
<p>See:&nbsp;<a href="#package.description">Description</a></p>
</div>
<div class="contentContainer">
<ul class="blockList">
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Interface Summary table, listing interfaces, and an explanation">
<caption><span>Interface Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Interface</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../org/jtrim2/stream/ElementConsumer.html" title="interface in org.jtrim2.stream">ElementConsumer</a>&lt;T&gt;</td>
<td class="colLast">
<div class="block">Defines an action processing element(s) of a stream of elements.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../org/jtrim2/stream/ElementMapper.html" title="interface in org.jtrim2.stream">ElementMapper</a>&lt;T,R&gt;</td>
<td class="colLast">
<div class="block">Defines an action mapping a single element of a stream to zero or more elements.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../org/jtrim2/stream/SeqConsumer.html" title="interface in org.jtrim2.stream">SeqConsumer</a>&lt;T&gt;</td>
<td class="colLast">
<div class="block">Defines an action processing a sequence of elements.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../org/jtrim2/stream/SeqGroupConsumer.html" title="interface in org.jtrim2.stream">SeqGroupConsumer</a>&lt;T&gt;</td>
<td class="colLast">
<div class="block">Defines an action processing zero or more sequence of elements.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../org/jtrim2/stream/SeqGroupMapper.html" title="interface in org.jtrim2.stream">SeqGroupMapper</a>&lt;T,R&gt;</td>
<td class="colLast">
<div class="block">Defines an action mapping zero or more sequence of elements.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../org/jtrim2/stream/SeqGroupProducer.html" title="interface in org.jtrim2.stream">SeqGroupProducer</a>&lt;T&gt;</td>
<td class="colLast">
<div class="block">Defines a source of zero or more sequences of elements.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../org/jtrim2/stream/SeqMapper.html" title="interface in org.jtrim2.stream">SeqMapper</a>&lt;T,R&gt;</td>
<td class="colLast">
<div class="block">Defines an action mapping a sequence of elements to another sequence of elements.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../org/jtrim2/stream/SeqProducer.html" title="interface in org.jtrim2.stream">SeqProducer</a>&lt;T&gt;</td>
<td class="colLast">
<div class="block">Defines a source of a sequence of elements.</div>
</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Class Summary table, listing classes, and an explanation">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../org/jtrim2/stream/FluentSeqConsumer.html" title="class in org.jtrim2.stream">FluentSeqConsumer</a>&lt;T&gt;</td>
<td class="colLast">
<div class="block">Defines a convenient fluent style builder for consumers processing a single
 sequence of elements.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../org/jtrim2/stream/FluentSeqGroupConsumer.html" title="class in org.jtrim2.stream">FluentSeqGroupConsumer</a>&lt;T&gt;</td>
<td class="colLast">
<div class="block">Defines a convenient fluent style builder for consumers processing a group of
 sequences of elements.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../org/jtrim2/stream/FluentSeqGroupMapper.html" title="class in org.jtrim2.stream">FluentSeqGroupMapper</a>&lt;T,R&gt;</td>
<td class="colLast">
<div class="block">Defines a convenient fluent style builder for mappers mapping zero or more
 sequences of elements.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../org/jtrim2/stream/FluentSeqGroupProducer.html" title="class in org.jtrim2.stream">FluentSeqGroupProducer</a>&lt;T&gt;</td>
<td class="colLast">
<div class="block">Defines a convenient fluent style builder for producers producing a zero or more
 sequences of elements.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../org/jtrim2/stream/FluentSeqMapper.html" title="class in org.jtrim2.stream">FluentSeqMapper</a>&lt;T,R&gt;</td>
<td class="colLast">
<div class="block">Defines a convenient fluent style builder for mappers mapping a single
 sequence of elements.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../org/jtrim2/stream/FluentSeqProducer.html" title="class in org.jtrim2.stream">FluentSeqProducer</a>&lt;T&gt;</td>
<td class="colLast">
<div class="block">Defines a convenient fluent style builder for producers producing a single
 sequence of elements.</div>
</td>
</tr>
</tbody>
</table>
</li>
</ul>
<a name="package.description">
<!--   -->
</a>
<h2 title="Package org.jtrim2.stream Description">Package org.jtrim2.stream Description</h2>
<div class="block">Contains classes and interfaces for synchronous stream processing. This API
 was not designed to supplement Java's <code>Stream</code> API, but rather replaces
 it in many circumstances, or provides feature not easily feasible there.
 <P>
 The main goal of this API is to allow developers to create simple
 implementations producing and consuming streams. Many common implementations
 are already present in this package.
 <P>
 Notable implementations are collecting elements of a stream into batches or
 easily allowing producers and consumers to run concurrently yet keeping
 producer and consumer implementations simple. See the following complex
 example for an example usage:
 <pre><code>
 void runFileMergeDemo(Path dir) throws Exception {
   newLineReaderProducer(dir.resolve("demo-src1.txt"))
       .toFluent()
       .concat(newLineReaderProducer(dir.resolve("demo-src2.txt")))
       .concat(newLineReaderProducer(dir.resolve("demo-src3.txt")))
       .batch(1000)
       .toSingleGroupProducer()
       .toBackground("mapper-executor", 1, 0)
       .apply(SeqGroupProducer::flatteningProducer)
       .map(newJobMapper())
       .batch(1000)
       .toBackground("writer-executor", 1, 0)
       .apply(SeqGroupProducer::flatteningProducer)
       .withSingleShotSeqConsumer(
           newLineWriterConsumerDef(dir.resolve("demo-dest.txt"))
           .toFluent()
           .&lt;String&gt;thenContextFree(job -&gt; System.out.println(transformJob(job, "logger")))
           .unwrap()
       )
       .execute(Cancellation.UNCANCELABLE_TOKEN);
 }

 String transformJob(String job, String step) {
   String threadName = Thread.currentThread().getName();
   return job + "-" + step + "(" + threadName + ")";
 }

 SeqProducer&lt;String&gt; newLineReaderProducer(Path srcFile) {
   return (cancelToken, consumer) -&gt; {
     try (BufferedReader source = Files.newBufferedReader(srcFile, StandardCharsets.UTF_8)) {
       String line;
       while ((line = source.readLine()) != null) {
         cancelToken.checkCanceled();
         consumer.processElement(transformJob(line, "reader"));
       }
     }
   };
 }

 SeqConsumer&lt;Object&gt; newLineWriterConsumerDef(Path destFile) {
   return (cancelToken, producer) -&gt; {
     try (Writer writer = Files.newBufferedWriter(destFile, StandardCharsets.UTF_8)) {
       producer.transferAll(cancelToken, job -&gt; {
         cancelToken.checkCanceled();
         writer.write(transformJob(job.toString(), "writer") + ")\n");
       });
     }
   };
 }

 SeqMapper&lt;String, String&gt; newJobMapper() {
   return (cancelToken, producer, consumerDef) -&gt; {
     consumerDef.consumeAll(cancelToken, (producerCancelToken, consumer) -&gt; {
       producer.transferAll(producerCancelToken, job -&gt; {
         producerCancelToken.checkCanceled();
         consumer.processElement(transformJob(job, "mapper"));
       });
     });
   };
 }
 </code></pre>
 The above example reads the lines of 3 files into a single sequence maps the lines,
 then writes the mapped lines out to a single file while logging each line being persisted
 as an independent action. Aside from this, the above setup allows the reading and writing
 to run concurrently, and also batches lines to reduce overhead.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../org/jtrim2/stream/SeqProducer.html" title="interface in org.jtrim2.stream"><code>SeqProducer</code></a>, 
<a href="../../../org/jtrim2/stream/SeqGroupProducer.html" title="interface in org.jtrim2.stream"><code>SeqGroupProducer</code></a>, 
<a href="../../../org/jtrim2/stream/SeqConsumer.html" title="interface in org.jtrim2.stream"><code>SeqConsumer</code></a>, 
<a href="../../../org/jtrim2/stream/SeqGroupConsumer.html" title="interface in org.jtrim2.stream"><code>SeqGroupConsumer</code></a>, 
<a href="../../../org/jtrim2/stream/SeqMapper.html" title="interface in org.jtrim2.stream"><code>SeqMapper</code></a>, 
<a href="../../../org/jtrim2/stream/SeqGroupMapper.html" title="interface in org.jtrim2.stream"><code>SeqGroupMapper</code></a></dd>
</dl>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/jtrim2/property/swing/package-summary.html">Prev&nbsp;Package</a></li>
<li><a href="../../../org/jtrim2/swing/component/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/jtrim2/stream/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
