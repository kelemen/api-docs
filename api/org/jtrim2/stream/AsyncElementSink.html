<!DOCTYPE HTML>
<html lang="hu">
<head>
<!-- Generated by javadoc (17) -->
<title>AsyncElementSink (JTrim 2.0.7 - All modules)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: org.jtrim2.stream, interface: AsyncElementSink">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.jtrim2.stream</a></div>
<h1 title="Interface AsyncElementSink" class="title">Interface AsyncElementSink&lt;T&gt;</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>T</code> - the type of the elements which can be added to this sink</dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">AsyncElementSink&lt;T&gt;</span></div>
<div class="block">Defines a sink to which asynchronous element providers can put their received elements.
 This is generally used to supply elements to one of the synchronous producers of <a href="AsyncProducers.html" title="class in org.jtrim2.stream"><code>AsyncProducers</code></a>.
 <P>
 Once there won't be anymore elements added to this sink, it must be marked as finished by the
 <a href="#finish(java.lang.Throwable)"><code>finish</code></a> method. Failing to finish the process might prevent the consumer
 from ever terminating.

 <h2>Thread safety</h2>
 Implementations of this interface are required to be safe to use by multiple
 threads concurrently.

 <h3>Synchronization transparency</h3>
 Adding an element to the sink might block and wait until elements are consumed and there
 is more room for additional elements in the sink. Finishing adding elements never waits, so
 it can be safely called while holding a lock.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="AsyncProducers.html" title="class in org.jtrim2.stream"><code>AsyncProducers</code></a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#finish(java.lang.Throwable)" class="member-name-link">finish</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/lang/Throwable.html" title="class or interface in java.lang" class="external-link">Throwable</a>&nbsp;error)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Marks this sink completed, and prevents more elements to be added to this sink.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#tryPut(org.jtrim2.cancel.CancellationToken,T)" class="member-name-link">tryPut</a><wbr>(<a href="../cancel/CancellationToken.html" title="interface in org.jtrim2.cancel">CancellationToken</a>&nbsp;cancelToken,
 <a href="AsyncElementSink.html" title="type parameter in AsyncElementSink">T</a>&nbsp;element)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Adds an element to this sink to be processed.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="tryPut(org.jtrim2.cancel.CancellationToken,T)">
<h3 id="tryPut(org.jtrim2.cancel.CancellationToken,java.lang.Object)">tryPut</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">tryPut</span><wbr><span class="parameters">(<a href="../cancel/CancellationToken.html" title="interface in org.jtrim2.cancel">CancellationToken</a>&nbsp;cancelToken,
 <a href="AsyncElementSink.html" title="type parameter in AsyncElementSink">T</a>&nbsp;element)</span>
        throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></span></div>
<div class="block">Adds an element to this sink to be processed. This method may block and wait, if it is full
 and its consumer needs to consume some of its elements to continue.
 <P>
 <B>Note</B>: If this method throws an exception, that exception might originate from the
 consumer. In this case, it is futile to try adding more elements, as this method will keep
 failing.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>cancelToken</code> - the cancellation token which can signal cancellation, if waiting for
   adding the element should be canceled. Cancellation detection is done on a best effort
   basis, and there is no guarantee that it will be detected. However, if it is detected, then
   an <a href="../cancel/OperationCanceledException.html" title="class in org.jtrim2.cancel"><code>OperationCanceledException</code></a> will
   be thrown, and the element will not be added. This argument cannot be <code>null</code>.</dd>
<dd><code>element</code> - the element to be added to the queue. The sink does not support <code>null</code>
   elements, so this argument cannot be <code>null</code>.</dd>
<dt>Returns:</dt>
<dd><code>true</code> if the element was added to the sink, <code>false</code> if
   <a href="#finish(java.lang.Throwable)"><code>finish</code></a> was called with no failure.</dd>
<dt>Throws:</dt>
<dd><code><a href="../cancel/OperationCanceledException.html" title="class in org.jtrim2.cancel">OperationCanceledException</a></code> - thrown if cancellation was detected. Note
   that it is possible that this exception is thrown if the process was finished with failure
   and the failure exception was this kind of exception. If such distinction need to be made,
   then checking the passed cancellation token is recommended. The edge case when both
   the cancellation token signals cancellation and the processed failed with cancellation
   exception, it is not possible to distinguish between the two scenarios unless the consumer
   can be monitored.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a></code> - thrown if the process finished with a failure. Either by the consumer
   failing or this sink (via the <a href="#finish(java.lang.Throwable)"><code>finish</code></a> method).</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="finish(java.lang.Throwable)">
<h3>finish</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">finish</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java/lang/Throwable.html" title="class or interface in java.lang" class="external-link">Throwable</a>&nbsp;error)</span></div>
<div class="block">Marks this sink completed, and prevents more elements to be added to this sink.
 <P>
 If calling this method <I>happens-before</I> calling the <a href="#tryPut(org.jtrim2.cancel.CancellationToken,T)"><code>tryPut</code></a>
 method call, then the <code>tryPut</code> will call will just return <code>false</code> without doing anything.
 <P>
 If the <code>tryPut</code> <I>happens-before</I> this method call, then previously added elements remain
 to be processed (i.e., they are not removed due to this <code>finish</code> call).
 <P>
 If this method is called concurrently with <code>tryPut</code>, then any one of the above two scenarios might
 happen (but not something else).
 <P>
 Calling this method multiple times has an undefined behaviour.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>error</code> - must be <code>null</code> if adding the elements completed normally, or
   an exception if there was an error while trying to get the elements to be added
   to this sink. Note that setting a failure will cause the consumer process
   to detect that failure and rethrow it.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
