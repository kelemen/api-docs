<!DOCTYPE HTML>
<html lang="hu">
<head>
<!-- Generated by javadoc (17) -->
<title>MemoryHeavyObject (jtrim-cache 2.0.5 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: org.jtrim2.cache, interface: MemoryHeavyObject">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.jtrim2.cache</a></div>
<h1 title="Interface MemoryHeavyObject" class="title">Interface MemoryHeavyObject</h1>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">MemoryHeavyObject</span></div>
<div class="block">An interface for objects retaining considerable amount of memory.
 This interface is used by <a href="MemorySensitiveCache.html" title="class in org.jtrim2.cache"><code>MemorySensitiveCache</code></a>. This cache
 implementation will determine the size of objects using the
 <a href="#getApproxMemorySize()"><code>getApproxMemorySize()</code></a> method of this
 interface. Refer to the documentation of <code>MemorySensitiveCache</code> for
 further details.
 <P>
 The size defined by this interface is not required to be exact (since
 determining the exact memory retention of an object is not possible), only
 an approximation. Note that some objects may share their internal fields
 for performance reasons (e.g.: a large array), despite this such fields
 should be included in the size calculations even though other references to
 these fields may exists.
 <P>
 For heavy objects usually most memory retentions come from large arrays or
 collections. The memory retention of a collection is not easy to measure so
 in this case a best effort should be made to faithfully reflect the memory
 retention on a typical JVM implementation. Somewhat easier to calculate the
 memory retention of large primitive arrays. The size of such arrays should be
 calculated as follows: the length of the array multiplied by the size of
 the primitive type. For the size of the primitive types the values from
 the following table should be used:
 <table border="1">
 <caption>Size of primitive types</caption>
  <tr>
   <th>Type</th>
   <th>Size of type</th>
  </tr>
  <tr>
   <td>boolean</td>
   <td>1</td>
  </tr>
  <tr>
   <td>byte</td>
   <td>1</td>
  </tr>
  <tr>
   <td>char</td>
   <td>2</td>
  </tr>
  <tr>
   <td>double</td>
   <td>8</td>
  </tr>
  <tr>
   <td>float</td>
   <td>4</td>
  </tr>
  <tr>
   <td>int</td>
   <td>4</td>
  </tr>
  <tr>
   <td>short</td>
   <td>2</td>
  </tr>
 </table>
 <P>
 Note that implementations of this object are recommended to be immutable or
 effectively immutable.

 <h2>Thread safety</h2>
 Implementations of this interface are required to be completely thread-safe,
 so the <code>getApproxMemorySize()</code> method can be called from any thread.
 <h3>Synchronization transparency</h3>
 The <code>getApproxMemorySize()</code> method (the only method of this interface)
 of this interface are required to be <I>synchronization transparent</I>,
 so they can be called in any context (e.g.: while holding a lock).</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="MemorySensitiveCache.html" title="class in org.jtrim2.cache"><code>MemorySensitiveCache</code></a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getApproxMemorySize()" class="member-name-link">getApproxMemorySize</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns the approximate size of memory in bytes retained by this
 objects.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getApproxMemorySize()">
<h3>getApproxMemorySize</h3>
<div class="member-signature"><span class="return-type">long</span>&nbsp;<span class="element-name">getApproxMemorySize</span>()</div>
<div class="block">Returns the approximate size of memory in bytes retained by this
 objects. This value is only approximate in every respect: Making this
 object unreachable does not guarantee any more available memory at all.
 <P>
 The return value of this object can change in case of mutable objects,
 note however that <code>MemoryHeavyObject</code>s are recommended to be
 immutable or effectively immutable.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the approximate size of this object in bytes. This method
   must never return a negative value (zero is permitted).</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
